{"from": {"secList": ["sec-runtime-semantics-iswordchar-abstract-operation", "sec-nonemptyclassranges", "sec-regular-expression-patterns-semantics", "sec-runtime-semantics-wordcharacters-abstract-operation", "sec-notation", "sec-atomescape", "sec-runtime-semantics-repeatmatcher-abstract-operation", "sec-disjunction", "sec-alternative", "sec-characterclassescape", "sec-assertion", "sec-term", "sec-pattern", "sec-runtime-semantics-characterrangeorunion-abstract-operation", "sec-atom", "sec-backreference-matcher", "sec-nonemptyclassrangesnodash", "sec-runtime-semantics-charactersetmatcher-abstract-operation", "sec-runtime-semantics-characterrange-abstract-operation"], "secData": {"sec-runtime-semantics-iswordchar-abstract-operation": {"num": "21.2.2.6.2", "title": "#sec-runtime-semantics-iswordchar-abstract-operation Runtime Semantics: IsWordChar ( e )", "html": "<emu-clause id=\"sec-runtime-semantics-iswordchar-abstract-operation\" aoid=\"IsWordChar\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-runtime-semantics-iswordchar-abstract-operation\">#sec-runtime-semantics-iswordchar-abstract-operation</span> Runtime Semantics: IsWordChar ( <var>e</var> )</h1>\n          <p>The abstract operation IsWordChar takes argument <var>e</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>). It performs the following steps when called:</p>\n          <emu-alg><ol><li>If <var>e</var> is -1 or <var>e</var> is <var>InputLength</var>, return <emu-val>false</emu-val>.</li><li>Let <var>c</var> be the character <var>Input</var>[<var>e</var>].</li><li>Let <var>wordChars</var> be the result of !&#160;<emu-xref aoid=\"WordCharacters\"><a href=\"#sec-runtime-semantics-wordcharacters-abstract-operation\">WordCharacters</a></emu-xref>().</li><li>If <var>c</var> is in <var>wordChars</var>, return <emu-val>true</emu-val>.</li><li>Return <emu-val>false</emu-val>.</li></ol></emu-alg>\n        </emu-clause>\n      "}, "sec-nonemptyclassranges": {"num": "21.2.2.15", "title": "#sec-nonemptyclassranges NonemptyClassRanges", "html": "<emu-clause id=\"sec-nonemptyclassranges\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-nonemptyclassranges\">#sec-nonemptyclassranges</span> NonemptyClassRanges</h1>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRanges\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-NonemptyClassRanges\">NonemptyClassRanges</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"348b5cd2\"><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet that is the result of evaluating <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRanges\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-NonemptyClassRanges\">NonemptyClassRanges</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"f5b7332d\"><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt> to obtain a CharSet <var>B</var>.</li><li>Return the union of CharSets <var>A</var> and <var>B</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRanges\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-NonemptyClassRanges\">NonemptyClassRanges</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"a5b9453b\"><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-t>-</emu-t><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate the first <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Evaluate the second <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>B</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt> to obtain a CharSet <var>C</var>.</li><li>Call <emu-xref aoid=\"CharacterRange\"><a href=\"#sec-runtime-semantics-characterrange-abstract-operation\">CharacterRange</a></emu-xref>(<var>A</var>, <var>B</var>) and let <var>D</var> be the resulting CharSet.</li><li>Return the union of CharSets <var>D</var> and <var>C</var>.</li></ol></emu-alg>\n\n        <div id=\"excluded-sec-runtime-semantics-characterrange-abstract-operation\"><h1><span class=\"secnum\">21.2.2.15.1</span>#sec-runtime-semantics-characterrange-abstract-operation Runtime Semantics: CharacterRange ( A, B )</h1>...</div></emu-clause>\n\n      "}, "sec-regular-expression-patterns-semantics": {"num": "B.1.4.4", "title": "#sec-regular-expression-patterns-semantics Pattern Semantics", "html": "<emu-annex id=\"sec-regular-expression-patterns-semantics\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-regular-expression-patterns-semantics\">#sec-regular-expression-patterns-semantics</span> Pattern Semantics</h1>\n        <p>The semantics of <emu-xref href=\"#sec-pattern-semantics\"><a href=\"#sec-pattern-semantics\" class=\"excluded-xref\" excluded-id=\"sec-pattern-semantics\">#sec-pattern-semantics</a></emu-xref> is extended as follows:</p>\n        <p>Within <emu-xref href=\"#sec-term\"><a href=\"#sec-term\" class=\"excluded-xref\" excluded-id=\"sec-term\">#sec-term</a></emu-xref> reference to &#8220;<emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" id=\"prod-annexB-Atom\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> &#8221; are to be interpreted as meaning &#8220;<emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> &#8221; or &#8220;<emu-grammar><emu-production name=\"ExtendedAtom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"34eb148f\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> &#8221;.</p>\n\n        <p>Term (<emu-xref href=\"#sec-term\"><a href=\"#sec-term\" class=\"excluded-xref\" excluded-id=\"sec-term\">#sec-term</a></emu-xref>) includes the following additional evaluation rules:</p>\n        <p>The production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"fd5c877d\"><emu-nt><a href=\"#prod-annexB-QuantifiableAssertion\">QuantifiableAssertion</a></emu-nt><emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates the same as the production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"44aed0a4\"><emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt><emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> but with <emu-nt><a href=\"#prod-annexB-QuantifiableAssertion\">QuantifiableAssertion</a></emu-nt> substituted for <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt>.</p>\n        <p>The production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"74fbcc1b\"><emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt><emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates the same as the production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"44aed0a4\"><emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt><emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> but with <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt> substituted for <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt>.</p>\n        <p>The production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"9700dc98\"><emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates the same as the production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"41dded41\"><emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> but with <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt> substituted for <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt>.</p>\n\n        <p>Assertion (<emu-xref href=\"#sec-assertion\"><a href=\"#sec-assertion\" class=\"excluded-xref\" excluded-id=\"sec-assertion\">#sec-assertion</a></emu-xref>) includes the following additional evaluation rule:</p>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"645fd5dc\"><emu-nt><a href=\"#prod-annexB-QuantifiableAssertion\">QuantifiableAssertion</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-annexB-QuantifiableAssertion\">QuantifiableAssertion</a></emu-nt> to obtain a Matcher <var>m</var>.</li><li>Return <var>m</var>.</li></ol></emu-alg>\n\n        <p>Assertion (<emu-xref href=\"#sec-assertion\"><a href=\"#sec-assertion\" class=\"excluded-xref\" excluded-id=\"sec-assertion\">#sec-assertion</a></emu-xref>) evaluation rules for the <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"cfb94f94\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>=</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> and <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"ba98f6e2\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>!</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> productions are also used for the <emu-nt><a href=\"#prod-annexB-QuantifiableAssertion\">QuantifiableAssertion</a></emu-nt> productions, but with <emu-nt><a href=\"#prod-annexB-QuantifiableAssertion\">QuantifiableAssertion</a></emu-nt> substituted for <emu-nt><a href=\"#prod-annexB-Assertion\">Assertion</a></emu-nt>.</p>\n\n        <p>Atom (<emu-xref href=\"#sec-atom\"><a href=\"#sec-atom\" class=\"excluded-xref\" excluded-id=\"sec-atom\">#sec-atom</a></emu-xref>) evaluation rules for the <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt> productions except for <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"beff52c4\"><emu-nt><a href=\"#prod-PatternCharacter\">PatternCharacter</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> are also used for the <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt> productions, but with <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt> substituted for <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt>. The following evaluation rules, with parameter <var>direction</var>, are also added:</p>\n        <p>The production <emu-grammar><emu-production name=\"ExtendedAtom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"dc7c5bc4\"><emu-t>\\</emu-t><emu-gann>[lookahead = <emu-t>c</emu-t>]</emu-gann></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>A</var> be the CharSet containing the single character <code>\\</code> U+005C (REVERSE SOLIDUS).</li><li>Call <emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <emu-val>false</emu-val>, <var>direction</var>) and return its Matcher result.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"ExtendedAtom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"23a78a5b\"><emu-nt><a href=\"#prod-annexB-ExtendedPatternCharacter\">ExtendedPatternCharacter</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>ch</var> be the character represented by <emu-nt><a href=\"#prod-annexB-ExtendedPatternCharacter\">ExtendedPatternCharacter</a></emu-nt>.</li><li>Let <var>A</var> be a one-element CharSet containing the character <var>ch</var>.</li><li>Call <emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <emu-val>false</emu-val>, <var>direction</var>) and return its Matcher result.</li></ol></emu-alg>\n\n        <p>CharacterEscape (<emu-xref href=\"#sec-characterescape\"><a href=\"#sec-characterescape\" class=\"excluded-xref\" excluded-id=\"sec-characterescape\">#sec-characterescape</a></emu-xref>) includes the following additional evaluation rule:</p>\n        <p>The production <emu-grammar><emu-production name=\"CharacterEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-CharacterEscape\">CharacterEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"e8cc2b7c\"><emu-nt><a href=\"#prod-annexB-LegacyOctalEscapeSequence\">LegacyOctalEscapeSequence</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>cv</var> be the CharacterValue of this <emu-nt><a href=\"#prod-annexB-CharacterEscape\">CharacterEscape</a></emu-nt>.</li><li>Return the character whose character value is <var>cv</var>.</li></ol></emu-alg>\n\n        <p>NonemptyClassRanges (<emu-xref href=\"#sec-nonemptyclassranges\"><a href=\"#sec-nonemptyclassranges\" class=\"excluded-xref\" excluded-id=\"sec-nonemptyclassranges\">#sec-nonemptyclassranges</a></emu-xref>) modifies the following evaluation rule:</p>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRanges\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-NonemptyClassRanges\">NonemptyClassRanges</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"a5b9453b\"><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-t>-</emu-t><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate the first <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Evaluate the second <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>B</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt> to obtain a CharSet <var>C</var>.</li><li>Call <emu-xref aoid=\"CharacterRangeOrUnion\"><a href=\"#sec-runtime-semantics-characterrangeorunion-abstract-operation\">CharacterRangeOrUnion</a></emu-xref>(<var>A</var>, <var>B</var>) and let <var>D</var> be the resulting CharSet.</li><li>Return the union of CharSets <var>D</var> and <var>C</var>.</li></ol></emu-alg>\n\n        <p>NonemptyClassRangesNoDash (<emu-xref href=\"#sec-nonemptyclassrangesnodash\"><a href=\"#sec-nonemptyclassrangesnodash\" class=\"excluded-xref\" excluded-id=\"sec-nonemptyclassrangesnodash\">#sec-nonemptyclassrangesnodash</a></emu-xref>) modifies the following evaluation rule:</p>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRangesNoDash\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"e9856041\"><emu-nt><a href=\"#prod-annexB-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt><emu-t>-</emu-t><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-annexB-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>B</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt> to obtain a CharSet <var>C</var>.</li><li>Call <emu-xref aoid=\"CharacterRangeOrUnion\"><a href=\"#sec-runtime-semantics-characterrangeorunion-abstract-operation\">CharacterRangeOrUnion</a></emu-xref>(<var>A</var>, <var>B</var>) and let <var>D</var> be the resulting CharSet.</li><li>Return the union of CharSets <var>D</var> and <var>C</var>.</li></ol></emu-alg>\n\n        <p>ClassEscape (<emu-xref href=\"#sec-classescape\"><a href=\"#sec-classescape\" class=\"excluded-xref\" excluded-id=\"sec-classescape\">#sec-classescape</a></emu-xref>) includes the following additional evaluation rule:</p>\n        <p>The production <emu-grammar><emu-production name=\"ClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-ClassEscape\">ClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"361f85ec\"><emu-t>c</emu-t><emu-nt><a href=\"#prod-annexB-ClassControlLetter\">ClassControlLetter</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>cv</var> be the CharacterValue of this <emu-nt><a href=\"#prod-annexB-ClassEscape\">ClassEscape</a></emu-nt>.</li><li>Let <var>c</var> be the character whose character value is <var>cv</var>.</li><li>Return the CharSet containing the single character <var>c</var>.</li></ol></emu-alg>\n\n        <p>ClassAtomNoDash (<emu-xref href=\"#sec-classatomnodash\"><a href=\"#sec-classatomnodash\" class=\"excluded-xref\" excluded-id=\"sec-classatomnodash\">#sec-classatomnodash</a></emu-xref>) includes the following additional evaluation rule:</p>\n        <p>The production <emu-grammar><emu-production name=\"ClassAtomNoDash\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"dc7c5bc4\"><emu-t>\\</emu-t><emu-gann>[lookahead = <emu-t>c</emu-t>]</emu-gann></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet containing the single character <code>\\</code> U+005C (REVERSE SOLIDUS).</li></ol></emu-alg>\n\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">This production can only be reached from the sequence <code>\\c</code> within a character class where it is not followed by an acceptable control character.</div></emu-note>\n\n        <div id=\"excluded-sec-runtime-semantics-characterrangeorunion-abstract-operation\"><h1><span class=\"secnum\">B.1.4.4.1</span>#sec-runtime-semantics-characterrangeorunion-abstract-operation Runtime Semantics: CharacterRangeOrUnion ( A, B )</h1>...</div></emu-annex>\n    "}, "sec-runtime-semantics-wordcharacters-abstract-operation": {"num": "21.2.2.6.1", "title": "#sec-runtime-semantics-wordcharacters-abstract-operation Runtime Semantics: WordCharacters ( )", "html": "<emu-clause id=\"sec-runtime-semantics-wordcharacters-abstract-operation\" aoid=\"WordCharacters\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-runtime-semantics-wordcharacters-abstract-operation\">#sec-runtime-semantics-wordcharacters-abstract-operation</span> Runtime Semantics: WordCharacters ( )</h1>\n          <p>The abstract operation WordCharacters takes no arguments. It performs the following steps when called:</p>\n          <emu-alg><ol><li>Let <var>A</var> be a set of characters containing the sixty-three characters:\n            <figure>\n              <table class=\"lightweight-table\">\n                <tbody>\n                  <tr>\n                    <td>\n                      <code>a</code>\n                    </td>\n                    <td>\n                      <code>b</code>\n                    </td>\n                    <td>\n                      <code>c</code>\n                    </td>\n                    <td>\n                      <code>d</code>\n                    </td>\n                    <td>\n                      <code>e</code>\n                    </td>\n                    <td>\n                      <code>f</code>\n                    </td>\n                    <td>\n                      <code>g</code>\n                    </td>\n                    <td>\n                      <code>h</code>\n                    </td>\n                    <td>\n                      <code>i</code>\n                    </td>\n                    <td>\n                      <code>j</code>\n                    </td>\n                    <td>\n                      <code>k</code>\n                    </td>\n                    <td>\n                      <code>l</code>\n                    </td>\n                    <td>\n                      <code>m</code>\n                    </td>\n                    <td>\n                      <code>n</code>\n                    </td>\n                    <td>\n                      <code>o</code>\n                    </td>\n                    <td>\n                      <code>p</code>\n                    </td>\n                    <td>\n                      <code>q</code>\n                    </td>\n                    <td>\n                      <code>r</code>\n                    </td>\n                    <td>\n                      <code>s</code>\n                    </td>\n                    <td>\n                      <code>t</code>\n                    </td>\n                    <td>\n                      <code>u</code>\n                    </td>\n                    <td>\n                      <code>v</code>\n                    </td>\n                    <td>\n                      <code>w</code>\n                    </td>\n                    <td>\n                      <code>x</code>\n                    </td>\n                    <td>\n                      <code>y</code>\n                    </td>\n                    <td>\n                      <code>z</code>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <code>A</code>\n                    </td>\n                    <td>\n                      <code>B</code>\n                    </td>\n                    <td>\n                      <code>C</code>\n                    </td>\n                    <td>\n                      <code>D</code>\n                    </td>\n                    <td>\n                      <code>E</code>\n                    </td>\n                    <td>\n                      <code>F</code>\n                    </td>\n                    <td>\n                      <code>G</code>\n                    </td>\n                    <td>\n                      <code>H</code>\n                    </td>\n                    <td>\n                      <code>I</code>\n                    </td>\n                    <td>\n                      <code>J</code>\n                    </td>\n                    <td>\n                      <code>K</code>\n                    </td>\n                    <td>\n                      <code>L</code>\n                    </td>\n                    <td>\n                      <code>M</code>\n                    </td>\n                    <td>\n                      <code>N</code>\n                    </td>\n                    <td>\n                      <code>O</code>\n                    </td>\n                    <td>\n                      <code>P</code>\n                    </td>\n                    <td>\n                      <code>Q</code>\n                    </td>\n                    <td>\n                      <code>R</code>\n                    </td>\n                    <td>\n                      <code>S</code>\n                    </td>\n                    <td>\n                      <code>T</code>\n                    </td>\n                    <td>\n                      <code>U</code>\n                    </td>\n                    <td>\n                      <code>V</code>\n                    </td>\n                    <td>\n                      <code>W</code>\n                    </td>\n                    <td>\n                      <code>X</code>\n                    </td>\n                    <td>\n                      <code>Y</code>\n                    </td>\n                    <td>\n                      <code>Z</code>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <code>0</code>\n                    </td>\n                    <td>\n                      <code>1</code>\n                    </td>\n                    <td>\n                      <code>2</code>\n                    </td>\n                    <td>\n                      <code>3</code>\n                    </td>\n                    <td>\n                      <code>4</code>\n                    </td>\n                    <td>\n                      <code>5</code>\n                    </td>\n                    <td>\n                      <code>6</code>\n                    </td>\n                    <td>\n                      <code>7</code>\n                    </td>\n                    <td>\n                      <code>8</code>\n                    </td>\n                    <td>\n                      <code>9</code>\n                    </td>\n                    <td>\n                      <code>_</code>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                    <td>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </figure></li><li>Let <var>U</var> be an empty set.</li><li>For each character <var>c</var> not in set <var>A</var> where <emu-xref aoid=\"Canonicalize\"><a href=\"#sec-runtime-semantics-canonicalize-ch\">Canonicalize</a></emu-xref>(<var>c</var>) is in <var>A</var>, add <var>c</var> to <var>U</var>.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: Unless <var>Unicode</var> and <var>IgnoreCase</var> are both <emu-val>true</emu-val>, <var>U</var> is empty.</li><li>Add the characters in set <var>U</var> to set <var>A</var>.</li><li>Return <var>A</var>.</li></ol></emu-alg>\n        </emu-clause>\n        "}, "sec-notation": {"num": "21.2.2.1", "title": "#sec-notation Notation", "html": "<emu-clause id=\"sec-notation\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-notation\">#sec-notation</span> Notation</h1>\n        <p>The descriptions below use the following aliases:</p>\n        <ul>\n          <li>\n            <var>Input</var> is a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> consisting of all of the characters, in order, of the String being matched by the regular expression pattern. Each character is either a code unit or a code point, depending upon the kind of pattern involved. The notation <var>Input</var>[<var>n</var>] means the <var>n</var><sup>th</sup> character of <var>Input</var>, where <var>n</var> can range between 0 (inclusive) and <var>InputLength</var> (exclusive).\n          </li>\n          <li>\n            <var>InputLength</var> is the number of characters in <var>Input</var>.\n          </li>\n          <li>\n            <var>NcapturingParens</var> is the total number of left-capturing parentheses (i.e. the total number of <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> Parse Nodes) in the pattern. A left-capturing parenthesis is any <code>(</code> pattern character that is matched by the <code>(</code> terminal of the <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> production.\n          </li>\n          <li>\n            <var>DotAll</var> is <emu-val>true</emu-val> if the RegExp object's [[OriginalFlags]] internal slot contains <emu-val>\"s\"</emu-val> and otherwise is <emu-val>false</emu-val>.\n          </li>\n          <li>\n            <var>IgnoreCase</var> is <emu-val>true</emu-val> if the RegExp object's [[OriginalFlags]] internal slot contains <emu-val>\"i\"</emu-val> and otherwise is <emu-val>false</emu-val>.\n          </li>\n          <li>\n            <var>Multiline</var> is <emu-val>true</emu-val> if the RegExp object's [[OriginalFlags]] internal slot contains <emu-val>\"m\"</emu-val> and otherwise is <emu-val>false</emu-val>.\n          </li>\n          <li>\n            <var>Unicode</var> is <emu-val>true</emu-val> if the RegExp object's [[OriginalFlags]] internal slot contains <emu-val>\"u\"</emu-val> and otherwise is <emu-val>false</emu-val>.\n          </li>\n        </ul>\n        <p>Furthermore, the descriptions below use the following internal data structures:</p>\n        <ul>\n          <li>\n            A <em>CharSet</em> is a mathematical set of characters, either code units or code points depending up the state of the <var>Unicode</var> flag. &#8220;All characters&#8221; means either all code unit values or all code point values also depending upon the state of <var>Unicode</var>.\n          </li>\n          <li>\n            A <em>State</em> is an ordered pair (<var>endIndex</var>, <var>captures</var>) where <var>endIndex</var> is an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> and <var>captures</var> is a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> of <var>NcapturingParens</var> values. States are used to represent partial match states in the regular expression matching algorithms. The <var>endIndex</var> is one plus the index of the last input character matched so far by the pattern, while <var>captures</var> holds the results of capturing parentheses. The <var>n</var><sup>th</sup> element of <var>captures</var> is either a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> that represents the value obtained by the <var>n</var><sup>th</sup> set of capturing parentheses or <emu-val>undefined</emu-val> if the <var>n</var><sup>th</sup> set of capturing parentheses hasn't been reached yet. Due to backtracking, many States may be in use at any time during the matching process.\n          </li>\n          <li>\n            A <em>MatchResult</em> is either a State or the special token <emu-const>failure</emu-const> that indicates that the match failed.\n          </li>\n          <li>\n            A <em>Continuation</em> is an <emu-xref href=\"#sec-abstract-closure\"><a href=\"#sec-abstract-closure\">Abstract Closure</a></emu-xref> that takes one State argument and returns a MatchResult result. The Continuation attempts to match the remaining portion (specified by the closure's captured values) of the pattern against <var>Input</var>, starting at the intermediate state given by its State argument. If the match succeeds, the Continuation returns the final State that it reached; if the match fails, the Continuation returns <emu-const>failure</emu-const>.\n          </li>\n          <li>\n            A <em>Matcher</em> is an <emu-xref href=\"#sec-abstract-closure\"><a href=\"#sec-abstract-closure\">Abstract Closure</a></emu-xref> that takes two arguments&#8212;a State and a Continuation&#8212;and returns a MatchResult result. A Matcher attempts to match a middle subpattern (specified by the closure's captured values) of the pattern against <var>Input</var>, starting at the intermediate state given by its State argument. The Continuation argument should be a closure that matches the rest of the pattern. After matching the subpattern of a pattern to obtain a new State, the Matcher then calls Continuation on that new State to test if the rest of the pattern can match as well. If it can, the Matcher returns the State returned by Continuation; if not, the Matcher may try different choices at its choice points, repeatedly calling Continuation until it either succeeds or all possibilities have been exhausted.\n          </li>\n        </ul>\n      </emu-clause>\n\n      "}, "sec-atomescape": {"num": "21.2.2.9", "title": "#sec-atomescape AtomEscape", "html": "<emu-clause id=\"sec-atomescape\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-atomescape\">#sec-atomescape</span> AtomEscape</h1>\n        <p>With parameter <var>direction</var>.</p>\n        <p>The production <emu-grammar><emu-production name=\"AtomEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-AtomEscape\">AtomEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"7ebff96c\"><emu-nt><a href=\"#prod-DecimalEscape\">DecimalEscape</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-DecimalEscape\">DecimalEscape</a></emu-nt> to obtain an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> <var>n</var>.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>n</var> &#8804; <var>NcapturingParens</var>.</li><li>Call <emu-xref aoid=\"BackreferenceMatcher\"><a href=\"#sec-backreference-matcher\">BackreferenceMatcher</a></emu-xref>(<var>n</var>, <var>direction</var>) and return its Matcher result.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"AtomEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-AtomEscape\">AtomEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"163011be\"><emu-nt><a href=\"#prod-CharacterEscape\">CharacterEscape</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-CharacterEscape\">CharacterEscape</a></emu-nt> to obtain a character <var>ch</var>.</li><li>Let <var>A</var> be a one-element CharSet containing the character <var>ch</var>.</li><li>Call <emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <emu-val>false</emu-val>, <var>direction</var>) and return its Matcher result.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"AtomEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-AtomEscape\">AtomEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"6f05bee4\"><emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Call <emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <emu-val>false</emu-val>, <var>direction</var>) and return its Matcher result.</li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n          <p>An escape sequence of the form <code>\\</code> followed by a nonzero decimal number <var>n</var> matches the result of the <var>n</var><sup>th</sup> set of capturing parentheses (<emu-xref href=\"#sec-notation\"><a href=\"#sec-notation\" class=\"excluded-xref\" excluded-id=\"sec-notation\">#sec-notation</a></emu-xref>). It is an error if the regular expression has fewer than <var>n</var> capturing parentheses. If the regular expression has <var>n</var> or more capturing parentheses but the <var>n</var><sup>th</sup> one is <emu-val>undefined</emu-val> because it has not captured anything, then the backreference always succeeds.</p>\n        </div></emu-note>\n        <p>The production <emu-grammar><emu-production name=\"AtomEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-AtomEscape\">AtomEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"743fd78c\"><emu-t>k</emu-t><emu-nt><a href=\"#prod-GroupName\">GroupName</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Search the enclosing <emu-nt><a href=\"#prod-Pattern\">Pattern</a></emu-nt> for an instance of a <emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt> for a <emu-nt><a href=\"#prod-RegExpIdentifierName\">RegExpIdentifierName</a></emu-nt> which has a StringValue equal to the StringValue of the <emu-nt><a href=\"#prod-RegExpIdentifierName\">RegExpIdentifierName</a></emu-nt> contained in <emu-nt><a href=\"#prod-GroupName\">GroupName</a></emu-nt>.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: A unique such <emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt> is found.</li><li>Let <var>parenIndex</var> be the number of left-capturing parentheses in the entire regular expression that occur to the left of the located <emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt>. This is the total number of <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> Parse Nodes prior to or enclosing the located <emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt>.</li><li>Call <emu-xref aoid=\"BackreferenceMatcher\"><a href=\"#sec-backreference-matcher\">BackreferenceMatcher</a></emu-xref>(<var>parenIndex</var>, <var>direction</var>) and return its Matcher result.</li></ol></emu-alg>\n\n        <div id=\"excluded-sec-backreference-matcher\"><h1><span class=\"secnum\">21.2.2.9.1</span>#sec-backreference-matcher Runtime Semantics: BackreferenceMatcher ( n, direction )</h1>...</div></emu-clause>\n\n      "}, "sec-runtime-semantics-repeatmatcher-abstract-operation": {"num": "21.2.2.5.1", "title": "#sec-runtime-semantics-repeatmatcher-abstract-operation Runtime Semantics: RepeatMatcher ( m, min, max, greedy, x, c, parenIndex, parenCount )", "html": "<emu-clause id=\"sec-runtime-semantics-repeatmatcher-abstract-operation\" aoid=\"RepeatMatcher\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-runtime-semantics-repeatmatcher-abstract-operation\">#sec-runtime-semantics-repeatmatcher-abstract-operation</span> Runtime Semantics: RepeatMatcher ( <var>m</var>, <var>min</var>, <var>max</var>, <var>greedy</var>, <var>x</var>, <var>c</var>, <var>parenIndex</var>, <var>parenCount</var> )</h1>\n          <p>The abstract operation RepeatMatcher takes arguments <var>m</var> (a Matcher), <var>min</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>), <var>max</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> or &#8734;), <var>greedy</var> (a Boolean), <var>x</var> (a State), <var>c</var> (a Continuation), <var>parenIndex</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>), and <var>parenCount</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>). It performs the following steps when called:</p>\n          <emu-alg><ol><li>If <var>max</var> is zero, return <var>c</var>(<var>x</var>).</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures <var>m</var>, <var>min</var>, <var>max</var>, <var>greedy</var>, <var>x</var>, <var>c</var>, <var>parenIndex</var>, and <var>parenCount</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li id=\"step-repeatmatcher-done\">If <var>min</var> is zero and <var>y</var>'s <var>endIndex</var> is equal to <var>x</var>'s <var>endIndex</var>, return <emu-const>failure</emu-const>.</li><li>If <var>min</var> is zero, let <var>min2</var> be zero; otherwise let <var>min2</var> be <var>min</var> - 1.</li><li>If <var>max</var> is &#8734;, let <var>max2</var> be &#8734;; otherwise let <var>max2</var> be <var>max</var> - 1.</li><li>Call <emu-xref aoid=\"RepeatMatcher\"><a href=\"#sec-runtime-semantics-repeatmatcher-abstract-operation\">RepeatMatcher</a></emu-xref>(<var>m</var>, <var>min2</var>, <var>max2</var>, <var>greedy</var>, <var>y</var>, <var>c</var>, <var>parenIndex</var>, <var>parenCount</var>) and return its result.</li></ol></li><li>Let <var>cap</var> be a copy of <var>x</var>'s <var>captures</var> <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li id=\"step-repeatmatcher-clear-captures\">For each <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> <var>k</var> that satisfies <var>parenIndex</var> &lt; <var>k</var> and <var>k</var> &#8804; <var>parenIndex</var> + <var>parenCount</var>, set <var>cap</var>[<var>k</var>] to <emu-val>undefined</emu-val>.</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>xr</var> be the State (<var>e</var>, <var>cap</var>).</li><li>If <var>min</var> is not zero, return <var>m</var>(<var>xr</var>, <var>d</var>).</li><li>If <var>greedy</var> is <emu-val>false</emu-val>, then<ol><li>Call <var>c</var>(<var>x</var>) and let <var>z</var> be its result.</li><li>If <var>z</var> is not <emu-const>failure</emu-const>, return <var>z</var>.</li><li>Call <var>m</var>(<var>xr</var>, <var>d</var>) and return its result.</li></ol></li><li>Call <var>m</var>(<var>xr</var>, <var>d</var>) and let <var>z</var> be its result.</li><li>If <var>z</var> is not <emu-const>failure</emu-const>, return <var>z</var>.</li><li>Call <var>c</var>(<var>x</var>) and return its result.</li></ol></emu-alg>\n          <emu-note><span class=\"note\">Note 1</span><div class=\"note-contents\">\n            <p>An <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> followed by a <emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt> is repeated the number of times specified by the <emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt>. A <emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt> can be non-greedy, in which case the <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> pattern is repeated as few times as possible while still matching the sequel, or it can be greedy, in which case the <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> pattern is repeated as many times as possible while still matching the sequel. The <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> pattern is repeated rather than the input character sequence that it matches, so different repetitions of the <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> can match different input substrings.</p>\n          </div></emu-note>\n          <emu-note><span class=\"note\">Note 2</span><div class=\"note-contents\">\n            <p>If the <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> and the sequel of the regular expression all have choice points, the <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> is first matched as many (or as few, if non-greedy) times as possible. All choices in the sequel are tried before moving on to the next choice in the last repetition of <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>. All choices in the last (n<sup>th</sup>) repetition of <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> are tried before moving on to the next choice in the next-to-last (n - 1)<sup>st</sup> repetition of <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>; at which point it may turn out that more or fewer repetitions of <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> are now possible; these are exhausted (again, starting with either as few or as many as possible) before moving on to the next choice in the (n - 1)<sup>st</sup> repetition of <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> and so on.</p>\n            <p>Compare</p>\n            <pre><code class=\"javascript hljs\">/a[a-z]{<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>}/.exec(<span class=\"hljs-string\">\"abcdefghi\"</span>)</code></pre>\n            <p>which returns <emu-val>\"abcde\"</emu-val> with</p>\n            <pre><code class=\"javascript hljs\">/a[a-z]{<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>}?<span class=\"hljs-regexp\">/.exec(\"abcdefghi\")</span></code></pre>\n            <p>which returns <emu-val>\"abc\"</emu-val>.</p>\n            <p>Consider also</p>\n            <pre><code class=\"javascript hljs\">/(aa|aabaac|ba|b|c)*<span class=\"hljs-regexp\">/.exec(\"aabaac\")</span></code></pre>\n            <p>which, by the choice point ordering above, returns the array</p>\n            <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"aaba\"</span>, <span class=\"hljs-string\">\"ba\"</span>]</code></pre>\n            <p>and not any of:</p>\n            <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"aabaac\"</span>, <span class=\"hljs-string\">\"aabaac\"</span>]\n[<span class=\"hljs-string\">\"aabaac\"</span>, <span class=\"hljs-string\">\"c\"</span>]</code></pre>\n            <p>The above ordering of choice points can be used to write a regular expression that calculates the greatest common divisor of two numbers (represented in unary notation). The following example calculates the gcd of 10 and 15:</p>\n            <pre><code class=\"javascript hljs\"><span class=\"hljs-string\">\"aaaaaaaaaa,aaaaaaaaaaaaaaa\"</span>.replace(<span class=\"hljs-regexp\">/^(a+)\\1*,\\1+$/</span>, <span class=\"hljs-string\">\"$1\"</span>)</code></pre>\n            <p>which returns the gcd in unary notation <emu-val>\"aaaaa\"</emu-val>.</p>\n          </div></emu-note>\n          <emu-note><span class=\"note\">Note 3</span><div class=\"note-contents\">\n            <p>Step <emu-xref href=\"#step-repeatmatcher-clear-captures\"><a href=\"#step-repeatmatcher-clear-captures\" class=\"excluded-xref\" excluded-id=\"step-repeatmatcher-clear-captures\">#step-repeatmatcher-clear-captures</a></emu-xref> of the RepeatMatcher clears <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>'s captures each time <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> is repeated. We can see its behaviour in the regular expression</p>\n            <pre><code class=\"javascript hljs\">/(z)((a+)?(b+)?(c))*<span class=\"hljs-regexp\">/.exec(\"zaacbbbcac\")</span></code></pre>\n            <p>which returns the array</p>\n            <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"zaacbbbcac\"</span>, <span class=\"hljs-string\">\"z\"</span>, <span class=\"hljs-string\">\"ac\"</span>, <span class=\"hljs-string\">\"a\"</span>, <span class=\"hljs-literal\">undefined</span>, <span class=\"hljs-string\">\"c\"</span>]</code></pre>\n            <p>and not</p>\n            <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"zaacbbbcac\"</span>, <span class=\"hljs-string\">\"z\"</span>, <span class=\"hljs-string\">\"ac\"</span>, <span class=\"hljs-string\">\"a\"</span>, <span class=\"hljs-string\">\"bbb\"</span>, <span class=\"hljs-string\">\"c\"</span>]</code></pre>\n            <p>because each iteration of the outermost <code>*</code> clears all captured Strings contained in the quantified <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>, which in this case includes capture Strings numbered 2, 3, 4, and 5.</p>\n          </div></emu-note>\n          <emu-note><span class=\"note\">Note 4</span><div class=\"note-contents\">\n            <p>Step <emu-xref href=\"#step-repeatmatcher-done\"><a href=\"#step-repeatmatcher-done\">2.b</a></emu-xref> of the RepeatMatcher states that once the minimum number of repetitions has been satisfied, any more expansions of <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> that match the empty character sequence are not considered for further repetitions. This prevents the regular expression engine from falling into an infinite loop on patterns such as:</p>\n            <pre><code class=\"javascript hljs\">/(a*)*<span class=\"hljs-regexp\">/.exec(\"b\")</span></code></pre>\n            <p>or the slightly more complicated:</p>\n            <pre><code class=\"javascript hljs\">/(a*)b\\<span class=\"hljs-number\">1</span>+<span class=\"hljs-regexp\">/.exec(\"baaaac\")</span></code></pre>\n            <p>which returns the array</p>\n            <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"b\"</span>, <span class=\"hljs-string\">\"\"</span>]</code></pre>\n          </div></emu-note>\n        </emu-clause>\n      "}, "sec-disjunction": {"num": "21.2.2.3", "title": "#sec-disjunction Disjunction", "html": "<emu-clause id=\"sec-disjunction\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-disjunction\">#sec-disjunction</span> Disjunction</h1>\n        <p>With parameter <var>direction</var>.</p>\n        <p>The production <emu-grammar><emu-production name=\"Disjunction\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"3b74e96e\"><emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m</var>.</li><li>Return <var>m</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Disjunction\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"253d8b05\"><emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt><emu-t>|</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m1</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m2</var>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m1</var> and <var>m2</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Call <var>m1</var>(<var>x</var>, <var>c</var>) and let <var>r</var> be its result.</li><li>If <var>r</var> is not <emu-const>failure</emu-const>, return <var>r</var>.</li><li>Call <var>m2</var>(<var>x</var>, <var>c</var>) and return its result.</li></ol></li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n          <p>The <code>|</code> regular expression operator separates two alternatives. The pattern first tries to match the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt> (followed by the sequel of the regular expression); if it fails, it tries to match the right <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> (followed by the sequel of the regular expression). If the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt>, the right <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt>, and the sequel all have choice points, all choices in the sequel are tried before moving on to the next choice in the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt>. If choices in the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt> are exhausted, the right <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> is tried instead of the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt>. Any capturing parentheses inside a portion of the pattern skipped by <code>|</code> produce <emu-val>undefined</emu-val> values instead of Strings. Thus, for example,</p>\n          <pre><code class=\"javascript hljs\">/a|ab/.exec(<span class=\"hljs-string\">\"abc\"</span>)</code></pre>\n          <p>returns the result <emu-val>\"a\"</emu-val> and not <emu-val>\"ab\"</emu-val>. Moreover,</p>\n          <pre><code class=\"javascript hljs\">/((a)|(ab))((c)|(bc))/.exec(<span class=\"hljs-string\">\"abc\"</span>)</code></pre>\n          <p>returns the array</p>\n          <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"abc\"</span>, <span class=\"hljs-string\">\"a\"</span>, <span class=\"hljs-string\">\"a\"</span>, <span class=\"hljs-literal\">undefined</span>, <span class=\"hljs-string\">\"bc\"</span>, <span class=\"hljs-literal\">undefined</span>, <span class=\"hljs-string\">\"bc\"</span>]</code></pre>\n          <p>and not</p>\n          <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"abc\"</span>, <span class=\"hljs-string\">\"ab\"</span>, <span class=\"hljs-literal\">undefined</span>, <span class=\"hljs-string\">\"ab\"</span>, <span class=\"hljs-string\">\"c\"</span>, <span class=\"hljs-string\">\"c\"</span>, <span class=\"hljs-literal\">undefined</span>]</code></pre>\n          <p>The order in which the two alternatives are tried is independent of the value of <var>direction</var>.</p>\n        </div></emu-note>\n      </emu-clause>\n\n      "}, "sec-alternative": {"num": "21.2.2.4", "title": "#sec-alternative Alternative", "html": "<emu-clause id=\"sec-alternative\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-alternative\">#sec-alternative</span> Alternative</h1>\n        <p>With parameter <var>direction</var>.</p>\n        <p>The production <emu-grammar><emu-production name=\"Alternative\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"37b9c04c\"><emu-gann>[empty]</emu-gann></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Call <var>c</var>(<var>x</var>) and return its result.</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Alternative\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"bdc4c1a6\"><emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt><emu-nt><a href=\"#prod-Term\">Term</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m1</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m2</var>.</li><li>If <var>direction</var> is equal to +1, then<ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m1</var> and <var>m2</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures <var>c</var> and <var>m2</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Call <var>m2</var>(<var>y</var>, <var>c</var>) and return its result.</li></ol></li><li>Call <var>m1</var>(<var>x</var>, <var>d</var>) and return its result.</li></ol></li></ol></li><li>Else,<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>direction</var> is equal to -1.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m1</var> and <var>m2</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures <var>c</var> and <var>m1</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Call <var>m1</var>(<var>y</var>, <var>c</var>) and return its result.</li></ol></li><li>Call <var>m2</var>(<var>x</var>, <var>d</var>) and return its result.</li></ol></li></ol></li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n          <p>Consecutive <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt>s try to simultaneously match consecutive portions of <var>Input</var>. When <var>direction</var> is equal to +1, if the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt>, the right <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt>, and the sequel of the regular expression all have choice points, all choices in the sequel are tried before moving on to the next choice in the right <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt>, and all choices in the right <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt> are tried before moving on to the next choice in the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt>. When <var>direction</var> is equal to -1, the evaluation order of <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt> and <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt> are reversed.</p>\n        </div></emu-note>\n      </emu-clause>\n\n      "}, "sec-characterclassescape": {"num": "21.2.2.12", "title": "#sec-characterclassescape CharacterClassEscape", "html": "<emu-clause id=\"sec-characterclassescape\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-characterclassescape\">#sec-characterclassescape</span> CharacterClassEscape</h1>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"f0f32729\"><emu-t>d</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the ten-element set of characters containing the characters <code>0</code> through <code>9</code> inclusive.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"919b1483\"><emu-t>D</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the set of all characters not included in the set returned by <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"f0f32729\"><emu-t>d</emu-t></emu-rhs>\n</emu-production></emu-grammar> .</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"5b9c6c6e\"><emu-t>s</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the set of characters containing the characters that are on the right-hand side of the <emu-nt><a href=\"#prod-WhiteSpace\">WhiteSpace</a></emu-nt> or <emu-nt><a href=\"#prod-LineTerminator\">LineTerminator</a></emu-nt> productions.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"6952cf48\"><emu-t>S</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the set of all characters not included in the set returned by <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"5b9c6c6e\"><emu-t>s</emu-t></emu-rhs>\n</emu-production></emu-grammar> .</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"2d8b484a\"><emu-t>w</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the set of all characters returned by <emu-xref aoid=\"WordCharacters\"><a href=\"#sec-runtime-semantics-wordcharacters-abstract-operation\">WordCharacters</a></emu-xref>().</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"ae15e851\"><emu-t>W</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the set of all characters not included in the set returned by <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"2d8b484a\"><emu-t>w</emu-t></emu-rhs>\n</emu-production></emu-grammar> .</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"c3a04bb2\"><emu-t>p{</emu-t><emu-nt><a href=\"#prod-UnicodePropertyValueExpression\">UnicodePropertyValueExpression</a></emu-nt><emu-t>}</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet containing all Unicode code points included in the CharSet returned by <emu-nt><a href=\"#prod-UnicodePropertyValueExpression\">UnicodePropertyValueExpression</a></emu-nt>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"e281bb28\"><emu-t>P{</emu-t><emu-nt><a href=\"#prod-UnicodePropertyValueExpression\">UnicodePropertyValueExpression</a></emu-nt><emu-t>}</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet containing all Unicode code points not included in the CharSet returned by <emu-nt><a href=\"#prod-UnicodePropertyValueExpression\">UnicodePropertyValueExpression</a></emu-nt>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"UnicodePropertyValueExpression\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-UnicodePropertyValueExpression\">UnicodePropertyValueExpression</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"b11de407\"><emu-nt><a href=\"#prod-UnicodePropertyName\">UnicodePropertyName</a></emu-nt><emu-t>=</emu-t><emu-nt><a href=\"#prod-UnicodePropertyValue\">UnicodePropertyValue</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>ps</var> be SourceText of <emu-nt><a href=\"#prod-UnicodePropertyName\">UnicodePropertyName</a></emu-nt>.</li><li>Let <var>p</var> be !&#160;<emu-xref aoid=\"UnicodeMatchProperty\"><a href=\"#sec-runtime-semantics-unicodematchproperty-p\">UnicodeMatchProperty</a></emu-xref>(<var>ps</var>).</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>p</var> is a Unicode <emu-xref href=\"#property-name\"><a href=\"#property-name\">property name</a></emu-xref> or property alias listed in the &#8220;<emu-xref href=\"#property-name\"><a href=\"#property-name\">Property name</a></emu-xref> and aliases&#8221; column of <emu-xref href=\"#table-nonbinary-unicode-properties\"><a href=\"#table-nonbinary-unicode-properties\" class=\"excluded-xref\" excluded-id=\"table-nonbinary-unicode-properties\">#table-nonbinary-unicode-properties</a></emu-xref>.</li><li>Let <var>vs</var> be SourceText of <emu-nt><a href=\"#prod-UnicodePropertyValue\">UnicodePropertyValue</a></emu-nt>.</li><li>Let <var>v</var> be !&#160;<emu-xref aoid=\"UnicodeMatchPropertyValue\"><a href=\"#sec-runtime-semantics-unicodematchpropertyvalue-p-v\">UnicodeMatchPropertyValue</a></emu-xref>(<var>p</var>, <var>vs</var>).</li><li>Return the CharSet containing all Unicode code points whose character database definition includes the property <var>p</var> with value <var>v</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"UnicodePropertyValueExpression\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-UnicodePropertyValueExpression\">UnicodePropertyValueExpression</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"25d94190\"><emu-nt><a href=\"#prod-LoneUnicodePropertyNameOrValue\">LoneUnicodePropertyNameOrValue</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>s</var> be SourceText of <emu-nt><a href=\"#prod-LoneUnicodePropertyNameOrValue\">LoneUnicodePropertyNameOrValue</a></emu-nt>.</li><li>If !&#160;<emu-xref aoid=\"UnicodeMatchPropertyValue\"><a href=\"#sec-runtime-semantics-unicodematchpropertyvalue-p-v\">UnicodeMatchPropertyValue</a></emu-xref>(<code>General_Category</code>, <var>s</var>) is identical to a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> of Unicode code points that is the name of a Unicode general category or general category alias listed in the &#8220;Property value and aliases&#8221; column of <emu-xref href=\"#table-unicode-general-category-values\"><a href=\"#table-unicode-general-category-values\" class=\"excluded-xref\" excluded-id=\"table-unicode-general-category-values\">#table-unicode-general-category-values</a></emu-xref>, then<ol><li>Return the CharSet containing all Unicode code points whose character database definition includes the property &#8220;General_Category&#8221; with value <var>s</var>.</li></ol></li><li>Let <var>p</var> be !&#160;<emu-xref aoid=\"UnicodeMatchProperty\"><a href=\"#sec-runtime-semantics-unicodematchproperty-p\">UnicodeMatchProperty</a></emu-xref>(<var>s</var>).</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>p</var> is a binary Unicode property or binary property alias listed in the &#8220;<emu-xref href=\"#property-name\"><a href=\"#property-name\">Property name</a></emu-xref> and aliases&#8221; column of <emu-xref href=\"#table-binary-unicode-properties\"><a href=\"#table-binary-unicode-properties\" class=\"excluded-xref\" excluded-id=\"table-binary-unicode-properties\">#table-binary-unicode-properties</a></emu-xref>.</li><li>Return the CharSet containing all Unicode code points whose character database definition includes the property <var>p</var> with value &#8220;True&#8221;.</li></ol></emu-alg>\n      </emu-clause>\n\n      "}, "sec-assertion": {"num": "21.2.2.6", "title": "#sec-assertion Assertion", "html": "<emu-clause id=\"sec-assertion\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-assertion\">#sec-assertion</span> Assertion</h1>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"e5878811\"><emu-t>^</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>If <var>e</var> is zero, or if <var>Multiline</var> is <emu-val>true</emu-val> and the character <var>Input</var>[<var>e</var> - 1] is one of <emu-nt><a href=\"#prod-LineTerminator\">LineTerminator</a></emu-nt>, then<ol><li>Call <var>c</var>(<var>x</var>) and return its result.</li></ol></li><li>Return <emu-const>failure</emu-const>.</li></ol></li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n          <p>Even when the <code>y</code> flag is used with a pattern, <code>^</code> always matches only at the beginning of <var>Input</var>, or (if <var>Multiline</var> is <emu-val>true</emu-val>) at the beginning of a line.</p>\n        </div></emu-note>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"1262cc92\"><emu-t>$</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>If <var>e</var> is equal to <var>InputLength</var>, or if <var>Multiline</var> is <emu-val>true</emu-val> and the character <var>Input</var>[<var>e</var>] is one of <emu-nt><a href=\"#prod-LineTerminator\">LineTerminator</a></emu-nt>, then<ol><li>Call <var>c</var>(<var>x</var>) and return its result.</li></ol></li><li>Return <emu-const>failure</emu-const>.</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"1e228da5\"><emu-t>\\</emu-t><emu-t>b</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Call <emu-xref aoid=\"IsWordChar\"><a href=\"#sec-runtime-semantics-iswordchar-abstract-operation\">IsWordChar</a></emu-xref>(<var>e</var> - 1) and let <var>a</var> be the Boolean result.</li><li>Call <emu-xref aoid=\"IsWordChar\"><a href=\"#sec-runtime-semantics-iswordchar-abstract-operation\">IsWordChar</a></emu-xref>(<var>e</var>) and let <var>b</var> be the Boolean result.</li><li>If <var>a</var> is <emu-val>true</emu-val> and <var>b</var> is <emu-val>false</emu-val>, or if <var>a</var> is <emu-val>false</emu-val> and <var>b</var> is <emu-val>true</emu-val>, then<ol><li>Call <var>c</var>(<var>x</var>) and return its result.</li></ol></li><li>Return <emu-const>failure</emu-const>.</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"a5dc97fa\"><emu-t>\\</emu-t><emu-t>B</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Call <emu-xref aoid=\"IsWordChar\"><a href=\"#sec-runtime-semantics-iswordchar-abstract-operation\">IsWordChar</a></emu-xref>(<var>e</var> - 1) and let <var>a</var> be the Boolean result.</li><li>Call <emu-xref aoid=\"IsWordChar\"><a href=\"#sec-runtime-semantics-iswordchar-abstract-operation\">IsWordChar</a></emu-xref>(<var>e</var>) and let <var>b</var> be the Boolean result.</li><li>If <var>a</var> is <emu-val>true</emu-val> and <var>b</var> is <emu-val>true</emu-val>, or if <var>a</var> is <emu-val>false</emu-val> and <var>b</var> is <emu-val>false</emu-val>, then<ol><li>Call <var>c</var>(<var>x</var>) and return its result.</li></ol></li><li>Return <emu-const>failure</emu-const>.</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"cfb94f94\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>=</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with +1 as its <var>direction</var> argument to obtain a Matcher <var>m</var>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Return <var>y</var>.</li></ol></li><li>Call <var>m</var>(<var>x</var>, <var>d</var>) and let <var>r</var> be its result.</li><li>If <var>r</var> is <emu-const>failure</emu-const>, return <emu-const>failure</emu-const>.</li><li>Let <var>y</var> be <var>r</var>'s State.</li><li>Let <var>cap</var> be <var>y</var>'s <var>captures</var> <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li>Let <var>xe</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>z</var> be the State (<var>xe</var>, <var>cap</var>).</li><li>Call <var>c</var>(<var>z</var>) and return its result.</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"ba98f6e2\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>!</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with +1 as its <var>direction</var> argument to obtain a Matcher <var>m</var>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Return <var>y</var>.</li></ol></li><li>Call <var>m</var>(<var>x</var>, <var>d</var>) and let <var>r</var> be its result.</li><li>If <var>r</var> is not <emu-const>failure</emu-const>, return <emu-const>failure</emu-const>.</li><li>Call <var>c</var>(<var>x</var>) and return its result.</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"8db9fbbe\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>&lt;=</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with -1 as its <var>direction</var> argument to obtain a Matcher <var>m</var>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Return <var>y</var>.</li></ol></li><li>Call <var>m</var>(<var>x</var>, <var>d</var>) and let <var>r</var> be its result.</li><li>If <var>r</var> is <emu-const>failure</emu-const>, return <emu-const>failure</emu-const>.</li><li>Let <var>y</var> be <var>r</var>'s State.</li><li>Let <var>cap</var> be <var>y</var>'s <var>captures</var> <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li>Let <var>xe</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>z</var> be the State (<var>xe</var>, <var>cap</var>).</li><li>Call <var>c</var>(<var>z</var>) and return its result.</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"1b07b2c0\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>&lt;!</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with -1 as its <var>direction</var> argument to obtain a Matcher <var>m</var>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Return <var>y</var>.</li></ol></li><li>Call <var>m</var>(<var>x</var>, <var>d</var>) and let <var>r</var> be its result.</li><li>If <var>r</var> is not <emu-const>failure</emu-const>, return <emu-const>failure</emu-const>.</li><li>Call <var>c</var>(<var>x</var>) and return its result.</li></ol></li></ol></emu-alg>\n\n        <div id=\"excluded-sec-runtime-semantics-wordcharacters-abstract-operation\"><h1><span class=\"secnum\">21.2.2.6.1</span>#sec-runtime-semantics-wordcharacters-abstract-operation Runtime Semantics: WordCharacters ( )</h1>...</div><div id=\"excluded-sec-runtime-semantics-iswordchar-abstract-operation\"><h1><span class=\"secnum\">21.2.2.6.2</span>#sec-runtime-semantics-iswordchar-abstract-operation Runtime Semantics: IsWordChar ( e )</h1>...</div></emu-clause>\n      "}, "sec-term": {"num": "21.2.2.5", "title": "#sec-term Term", "html": "<emu-clause id=\"sec-term\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-term\">#sec-term</span> Term</h1>\n        <p>With parameter <var>direction</var>.</p>\n        <p>The production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"e03dc251\"><emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the Matcher that is the result of evaluating <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt>.</li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n          <p>The resulting Matcher is independent of <var>direction</var>.</p>\n        </div></emu-note>\n        <p>The production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"41dded41\"><emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the Matcher that is the result of evaluating <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> with argument <var>direction</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"44aed0a4\"><emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt> to obtain the three results: an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> <var>min</var>, an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> (or &#8734;) <var>max</var>, and Boolean <var>greedy</var>.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: If <var>max</var> is finite, then <var>max</var> is not less than <var>min</var>.</li><li>Let <var>parenIndex</var> be the number of left-capturing parentheses in the entire regular expression that occur to the left of this <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt>. This is the total number of <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> Parse Nodes prior to or enclosing this <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt>.</li><li>Let <var>parenCount</var> be the number of left-capturing parentheses in <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>. This is the total number of <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> Parse Nodes enclosed by <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m</var>, <var>min</var>, <var>max</var>, <var>greedy</var>, <var>parenIndex</var>, and <var>parenCount</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Call <emu-xref aoid=\"RepeatMatcher\"><a href=\"#sec-runtime-semantics-repeatmatcher-abstract-operation\">RepeatMatcher</a></emu-xref>(<var>m</var>, <var>min</var>, <var>max</var>, <var>greedy</var>, <var>x</var>, <var>c</var>, <var>parenIndex</var>, <var>parenCount</var>) and return its result.</li></ol></li></ol></emu-alg>\n\n        <div id=\"excluded-sec-runtime-semantics-repeatmatcher-abstract-operation\"><h1><span class=\"secnum\">21.2.2.5.1</span>#sec-runtime-semantics-repeatmatcher-abstract-operation Runtime Semantics: RepeatMatcher ( m, min, max, greedy, x, c, parenIndex, parenCount )</h1>...</div></emu-clause>\n\n      "}, "sec-pattern": {"num": "21.2.2.2", "title": "#sec-pattern Pattern", "html": "<emu-clause id=\"sec-pattern\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-pattern\">#sec-pattern</span> Pattern</h1>\n        <p>The production <emu-grammar><emu-production name=\"Pattern\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Pattern\">Pattern</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"79a5bbd0\"><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with +1 as its <var>direction</var> argument to obtain a Matcher <var>m</var>.</li><li>Return a new <emu-xref href=\"#sec-abstract-closure\"><a href=\"#sec-abstract-closure\">Abstract Closure</a></emu-xref> with parameters (<var>str</var>, <var>index</var>) that captures <var>m</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <emu-xref aoid=\"Type\"><a href=\"#sec-ecmascript-data-types-and-values\">Type</a></emu-xref>(<var>str</var>) is String.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: !&#160;<emu-xref aoid=\"IsNonNegativeInteger\"><a href=\"#sec-isnonnegativeinteger\">IsNonNegativeInteger</a></emu-xref>(<var>index</var>) is <emu-val>true</emu-val> and <var>index</var> &#8804; the length of <var>str</var>.</li><li>If <var>Unicode</var> is <emu-val>true</emu-val>, let <var>Input</var> be a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> consisting of the sequence of code points of !&#160;<emu-xref aoid=\"UTF16DecodeString\"><a href=\"#sec-utf16decodestring\">UTF16DecodeString</a></emu-xref>(<var>str</var>). Otherwise, let <var>Input</var> be a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> consisting of the sequence of code units that are the elements of <var>str</var>. <var>Input</var> will be used throughout the algorithms in <emu-xref href=\"#sec-pattern-semantics\"><a href=\"#sec-pattern-semantics\" class=\"excluded-xref\" excluded-id=\"sec-pattern-semantics\">#sec-pattern-semantics</a></emu-xref>. Each element of <var>Input</var> is considered to be a character.</li><li>Let <var>InputLength</var> be the number of characters contained in <var>Input</var>. This alias will be used throughout the algorithms in <emu-xref href=\"#sec-pattern-semantics\"><a href=\"#sec-pattern-semantics\" class=\"excluded-xref\" excluded-id=\"sec-pattern-semantics\">#sec-pattern-semantics</a></emu-xref>.</li><li>Let <var>listIndex</var> be the index into <var>Input</var> of the character that was obtained from element <var>index</var> of <var>str</var>.</li><li>Let <var>c</var> be a new Continuation with parameters (<var>y</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Return <var>y</var>.</li></ol></li><li>Let <var>cap</var> be a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> of <var>NcapturingParens</var> <emu-val>undefined</emu-val> values, indexed 1 through <var>NcapturingParens</var>.</li><li>Let <var>x</var> be the State (<var>listIndex</var>, <var>cap</var>).</li><li>Call <var>m</var>(<var>x</var>, <var>c</var>) and return its result.</li></ol></li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n          <p>A Pattern evaluates (&#8220;compiles&#8221;) to an <emu-xref href=\"#sec-abstract-closure\"><a href=\"#sec-abstract-closure\">Abstract Closure</a></emu-xref> value. <emu-xref aoid=\"RegExpBuiltinExec\"><a href=\"#sec-regexpbuiltinexec\">RegExpBuiltinExec</a></emu-xref> can then apply this procedure to a String and an offset within the String to determine whether the pattern would match starting at exactly that offset within the String, and, if it does match, what the values of the capturing parentheses would be. The algorithms in <emu-xref href=\"#sec-pattern-semantics\"><a href=\"#sec-pattern-semantics\" class=\"excluded-xref\" excluded-id=\"sec-pattern-semantics\">#sec-pattern-semantics</a></emu-xref> are designed so that compiling a pattern may throw a <emu-val>SyntaxError</emu-val> exception; on the other hand, once the pattern is successfully compiled, applying the resulting <emu-xref href=\"#sec-abstract-closure\"><a href=\"#sec-abstract-closure\">Abstract Closure</a></emu-xref> to find a match in a String cannot throw an exception (except for any <emu-xref href=\"#implementation-defined\"><a href=\"#implementation-defined\">implementation-defined</a></emu-xref> exceptions that can occur anywhere such as out-of-memory).</p>\n        </div></emu-note>\n      </emu-clause>\n\n      "}, "sec-runtime-semantics-characterrangeorunion-abstract-operation": {"num": "B.1.4.4.1", "title": "#sec-runtime-semantics-characterrangeorunion-abstract-operation Runtime Semantics: CharacterRangeOrUnion ( A, B )", "html": "<emu-annex id=\"sec-runtime-semantics-characterrangeorunion-abstract-operation\" aoid=\"CharacterRangeOrUnion\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-runtime-semantics-characterrangeorunion-abstract-operation\">#sec-runtime-semantics-characterrangeorunion-abstract-operation</span> Runtime Semantics: CharacterRangeOrUnion ( <var>A</var>, <var>B</var> )</h1>\n          <p>The abstract operation CharacterRangeOrUnion takes arguments <var>A</var> (a CharSet) and <var>B</var> (a CharSet). It performs the following steps when called:</p>\n          <emu-alg><ol><li>If <var>Unicode</var> is <emu-val>false</emu-val>, then<ol><li>If <var>A</var> does not contain exactly one character or <var>B</var> does not contain exactly one character, then<ol><li>Let <var>C</var> be the CharSet containing the single character <code>-</code> U+002D (HYPHEN-MINUS).</li><li>Return the union of CharSets <var>A</var>, <var>B</var> and <var>C</var>.</li></ol></li></ol></li><li>Return <emu-xref aoid=\"CharacterRange\"><a href=\"#sec-runtime-semantics-characterrange-abstract-operation\">CharacterRange</a></emu-xref>(<var>A</var>, <var>B</var>).</li></ol></emu-alg>\n        </emu-annex>\n      "}, "sec-atom": {"num": "21.2.2.8", "title": "#sec-atom Atom", "html": "<emu-clause id=\"sec-atom\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-atom\">#sec-atom</span> Atom</h1>\n        <p>With parameter <var>direction</var>.</p>\n        <p>The production <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"beff52c4\"><emu-nt><a href=\"#prod-PatternCharacter\">PatternCharacter</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>ch</var> be the character matched by <emu-nt><a href=\"#prod-PatternCharacter\">PatternCharacter</a></emu-nt>.</li><li>Let <var>A</var> be a one-element CharSet containing the character <var>ch</var>.</li><li>Call <emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <emu-val>false</emu-val>, <var>direction</var>) and return its Matcher result.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"9658e473\"><emu-t>.</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>If <var>DotAll</var> is <emu-val>true</emu-val>, then<ol><li>Let <var>A</var> be the set of all characters.</li></ol></li><li>Otherwise, let <var>A</var> be the set of all characters except <emu-nt><a href=\"#prod-LineTerminator\">LineTerminator</a></emu-nt>.</li><li>Call <emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <emu-val>false</emu-val>, <var>direction</var>) and return its Matcher result.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"9ce67ea4\"><emu-t>\\</emu-t><emu-nt><a href=\"#prod-AtomEscape\">AtomEscape</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the Matcher that is the result of evaluating <emu-nt><a href=\"#prod-AtomEscape\">AtomEscape</a></emu-nt> with argument <var>direction</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"66aaa8b9\"><emu-nt><a href=\"#prod-CharacterClass\">CharacterClass</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-CharacterClass\">CharacterClass</a></emu-nt> to obtain a CharSet <var>A</var> and a Boolean <var>invert</var>.</li><li>Call <emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <var>invert</var>, <var>direction</var>) and return its Matcher result.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m</var>.</li><li>Let <var>parenIndex</var> be the number of left-capturing parentheses in the entire regular expression that occur to the left of this <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>. This is the total number of <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> Parse Nodes prior to or enclosing this <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>direction</var>, <var>m</var>, and <var>parenIndex</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures <var>x</var>, <var>c</var>, <var>direction</var>, and <var>parenIndex</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Let <var>cap</var> be a copy of <var>y</var>'s <var>captures</var> <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li>Let <var>xe</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>ye</var> be <var>y</var>'s <var>endIndex</var>.</li><li>If <var>direction</var> is equal to +1, then<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>xe</var> &#8804; <var>ye</var>.</li><li>Let <var>s</var> be a new <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> whose elements are the characters of <var>Input</var> at indices <var>xe</var> (inclusive) through <var>ye</var> (exclusive).</li></ol></li><li>Else,<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>direction</var> is equal to -1.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>ye</var> &#8804; <var>xe</var>.</li><li>Let <var>s</var> be a new <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> whose elements are the characters of <var>Input</var> at indices <var>ye</var> (inclusive) through <var>xe</var> (exclusive).</li></ol></li><li>Set <var>cap</var>[<var>parenIndex</var> + 1] to <var>s</var>.</li><li>Let <var>z</var> be the State (<var>ye</var>, <var>cap</var>).</li><li>Call <var>c</var>(<var>z</var>) and return its result.</li></ol></li><li>Call <var>m</var>(<var>x</var>, <var>d</var>) and return its result.</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"d76db7c5\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>:</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the Matcher that is the result of evaluating <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with argument <var>direction</var>.</li></ol></emu-alg>\n\n        <div id=\"excluded-sec-runtime-semantics-charactersetmatcher-abstract-operation\"><h1><span class=\"secnum\">21.2.2.8.1</span>#sec-runtime-semantics-charactersetmatcher-abstract-operation Runtime Semantics: CharacterSetMatcher ( A, invert, direction )</h1>...</div><div id=\"excluded-sec-runtime-semantics-canonicalize-ch\"><h1><span class=\"secnum\">21.2.2.8.2</span>#sec-runtime-semantics-canonicalize-ch Runtime Semantics: Canonicalize ( ch )</h1>...</div><div id=\"excluded-sec-runtime-semantics-unicodematchproperty-p\"><h1><span class=\"secnum\">21.2.2.8.3</span>#sec-runtime-semantics-unicodematchproperty-p Runtime Semantics: UnicodeMatchProperty ( p )</h1>...</div><div id=\"excluded-sec-runtime-semantics-unicodematchpropertyvalue-p-v\"><h1><span class=\"secnum\">21.2.2.8.4</span>#sec-runtime-semantics-unicodematchpropertyvalue-p-v Runtime Semantics: UnicodeMatchPropertyValue ( p, v )</h1>...</div></emu-clause>\n\n      "}, "sec-backreference-matcher": {"num": "21.2.2.9.1", "title": "#sec-backreference-matcher Runtime Semantics: BackreferenceMatcher ( n, direction )", "html": "<emu-clause id=\"sec-backreference-matcher\" aoid=\"BackreferenceMatcher\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-backreference-matcher\">#sec-backreference-matcher</span> Runtime Semantics: BackreferenceMatcher ( <var>n</var>, <var>direction</var> )</h1>\n          <p>The abstract operation BackreferenceMatcher takes arguments <var>n</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>) and <var>direction</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>). It performs the following steps when called:</p>\n          <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>n</var> and <var>direction</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>cap</var> be <var>x</var>'s <var>captures</var> <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li>Let <var>s</var> be <var>cap</var>[<var>n</var>].</li><li>If <var>s</var> is <emu-val>undefined</emu-val>, return <var>c</var>(<var>x</var>).</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>len</var> be the number of elements in <var>s</var>.</li><li>Let <var>f</var> be <var>e</var> + <var>direction</var> &#215; <var>len</var>.</li><li>If <var>f</var> &lt; 0 or <var>f</var> &gt; <var>InputLength</var>, return <emu-const>failure</emu-const>.</li><li>Let <var>g</var> be <emu-xref aoid=\"min\"><a href=\"#eqn-min\">min</a></emu-xref>(<var>e</var>, <var>f</var>).</li><li>If there exists an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> <var>i</var> between 0 (inclusive) and <var>len</var> (exclusive) such that <emu-xref aoid=\"Canonicalize\"><a href=\"#sec-runtime-semantics-canonicalize-ch\">Canonicalize</a></emu-xref>(<var>s</var>[<var>i</var>]) is not the same character value as <emu-xref aoid=\"Canonicalize\"><a href=\"#sec-runtime-semantics-canonicalize-ch\">Canonicalize</a></emu-xref>(<var>Input</var>[<var>g</var> + <var>i</var>]), return <emu-const>failure</emu-const>.</li><li>Let <var>y</var> be the State (<var>f</var>, <var>cap</var>).</li><li>Call <var>c</var>(<var>y</var>) and return its result.</li></ol></li></ol></emu-alg>\n        </emu-clause>\n      "}, "sec-nonemptyclassrangesnodash": {"num": "21.2.2.16", "title": "#sec-nonemptyclassrangesnodash NonemptyClassRangesNoDash", "html": "<emu-clause id=\"sec-nonemptyclassrangesnodash\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-nonemptyclassrangesnodash\">#sec-nonemptyclassrangesnodash</span> NonemptyClassRangesNoDash</h1>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRangesNoDash\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"348b5cd2\"><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet that is the result of evaluating <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRangesNoDash\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"6762c921\"><emu-nt><a href=\"#prod-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt><emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt> to obtain a CharSet <var>B</var>.</li><li>Return the union of CharSets <var>A</var> and <var>B</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRangesNoDash\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"e9856041\"><emu-nt><a href=\"#prod-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt><emu-t>-</emu-t><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>B</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt> to obtain a CharSet <var>C</var>.</li><li>Call <emu-xref aoid=\"CharacterRange\"><a href=\"#sec-runtime-semantics-characterrange-abstract-operation\">CharacterRange</a></emu-xref>(<var>A</var>, <var>B</var>) and let <var>D</var> be the resulting CharSet.</li><li>Return the union of CharSets <var>D</var> and <var>C</var>.</li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note 1</span><div class=\"note-contents\">\n          <p><emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt> can expand into a single <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> and/or ranges of two <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> separated by dashes. In the latter case the <emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt> includes all characters between the first <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> and the second <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt>, inclusive; an error occurs if either <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> does not represent a single character (for example, if one is \\w) or if the first <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt>'s character value is greater than the second <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt>'s character value.</p>\n        </div></emu-note>\n        <emu-note><span class=\"note\">Note 2</span><div class=\"note-contents\">\n          <p>Even if the pattern ignores case, the case of the two ends of a range is significant in determining which characters belong to the range. Thus, for example, the pattern <code>/[E-F]/i</code> matches only the letters <code>E</code>, <code>F</code>, <code>e</code>, and <code>f</code>, while the pattern <code>/[E-f]/i</code> matches all upper and lower-case letters in the Unicode Basic Latin block as well as the symbols <code>[</code>, <code>\\</code>, <code>]</code>, <code>^</code>, <code>_</code>, and <code>`</code>.</p>\n        </div></emu-note>\n        <emu-note><span class=\"note\">Note 3</span><div class=\"note-contents\">\n          <p>A <code>-</code> character can be treated literally or it can denote a range. It is treated literally if it is the first or last character of <emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt>, the beginning or end limit of a range specification, or immediately follows a range specification.</p>\n        </div></emu-note>\n      </emu-clause>\n\n      "}, "sec-runtime-semantics-charactersetmatcher-abstract-operation": {"num": "21.2.2.8.1", "title": "#sec-runtime-semantics-charactersetmatcher-abstract-operation Runtime Semantics: CharacterSetMatcher ( A, invert, direction )", "html": "<emu-clause id=\"sec-runtime-semantics-charactersetmatcher-abstract-operation\" aoid=\"CharacterSetMatcher\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-runtime-semantics-charactersetmatcher-abstract-operation\">#sec-runtime-semantics-charactersetmatcher-abstract-operation</span> Runtime Semantics: CharacterSetMatcher ( <var>A</var>, <var>invert</var>, <var>direction</var> )</h1>\n          <p>The abstract operation CharacterSetMatcher takes arguments <var>A</var> (a CharSet), <var>invert</var> (a Boolean), and <var>direction</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>). It performs the following steps when called:</p>\n          <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>A</var>, <var>invert</var>, and <var>direction</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>f</var> be <var>e</var> + <var>direction</var>.</li><li>If <var>f</var> &lt; 0 or <var>f</var> &gt; <var>InputLength</var>, return <emu-const>failure</emu-const>.</li><li>Let <var>index</var> be <emu-xref aoid=\"min\"><a href=\"#eqn-min\">min</a></emu-xref>(<var>e</var>, <var>f</var>).</li><li>Let <var>ch</var> be the character <var>Input</var>[<var>index</var>].</li><li>Let <var>cc</var> be <emu-xref aoid=\"Canonicalize\"><a href=\"#sec-runtime-semantics-canonicalize-ch\">Canonicalize</a></emu-xref>(<var>ch</var>).</li><li>If <var>invert</var> is <emu-val>false</emu-val>, then<ol><li>If there does not exist a member <var>a</var> of set <var>A</var> such that <emu-xref aoid=\"Canonicalize\"><a href=\"#sec-runtime-semantics-canonicalize-ch\">Canonicalize</a></emu-xref>(<var>a</var>) is <var>cc</var>, return <emu-const>failure</emu-const>.</li></ol></li><li>Else,<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>invert</var> is <emu-val>true</emu-val>.</li><li>If there exists a member <var>a</var> of set <var>A</var> such that <emu-xref aoid=\"Canonicalize\"><a href=\"#sec-runtime-semantics-canonicalize-ch\">Canonicalize</a></emu-xref>(<var>a</var>) is <var>cc</var>, return <emu-const>failure</emu-const>.</li></ol></li><li>Let <var>cap</var> be <var>x</var>'s <var>captures</var> <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li>Let <var>y</var> be the State (<var>f</var>, <var>cap</var>).</li><li>Call <var>c</var>(<var>y</var>) and return its result.</li></ol></li></ol></emu-alg>\n        </emu-clause>\n\n        "}, "sec-runtime-semantics-characterrange-abstract-operation": {"num": "21.2.2.15.1", "title": "#sec-runtime-semantics-characterrange-abstract-operation Runtime Semantics: CharacterRange ( A, B )", "html": "<emu-clause id=\"sec-runtime-semantics-characterrange-abstract-operation\" aoid=\"CharacterRange\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-runtime-semantics-characterrange-abstract-operation\">#sec-runtime-semantics-characterrange-abstract-operation</span> Runtime Semantics: CharacterRange ( <var>A</var>, <var>B</var> )</h1>\n          <p>The abstract operation CharacterRange takes arguments <var>A</var> (a CharSet) and <var>B</var> (a CharSet). It performs the following steps when called:</p>\n          <emu-alg><ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>A</var> and <var>B</var> each contain exactly one character.</li><li>Let <var>a</var> be the one character in CharSet <var>A</var>.</li><li>Let <var>b</var> be the one character in CharSet <var>B</var>.</li><li>Let <var>i</var> be the character value of character <var>a</var>.</li><li>Let <var>j</var> be the character value of character <var>b</var>.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>i</var> &#8804; <var>j</var>.</li><li>Return the set containing all characters numbered <var>i</var> through <var>j</var>, inclusive.</li></ol></emu-alg>\n        </emu-clause>\n      "}}, "figData": {"table-nonbinary-unicode-properties": "Table 55", "table-binary-unicode-properties": "Table 56", "table-unicode-general-category-values": "Table 57"}}, "to": {"secList": ["sec-runtime-semantics-iswordchar-abstract-operation", "sec-nonemptyclassranges", "sec-regular-expression-patterns-semantics", "sec-notation", "sec-atomescape", "sec-runtime-semantics-repeatmatcher-abstract-operation", "sec-disjunction", "sec-alternative", "sec-characterclassescape", "sec-assertion", "sec-term", "sec-pattern", "sec-runtime-semantics-characterrangeorunion-abstract-operation", "sec-atom", "sec-backreference-matcher", "sec-nonemptyclassrangesnodash", "sec-runtime-semantics-charactersetmatcher-abstract-operation", "sec-runtime-semantics-characterrange-abstract-operation"], "secData": {"sec-runtime-semantics-iswordchar-abstract-operation": {"num": "21.2.2.6.1", "title": "#sec-runtime-semantics-iswordchar-abstract-operation Runtime Semantics: IsWordChar ( e )", "html": "<emu-clause id=\"sec-runtime-semantics-iswordchar-abstract-operation\" aoid=\"IsWordChar\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-runtime-semantics-iswordchar-abstract-operation\">#sec-runtime-semantics-iswordchar-abstract-operation</span> Runtime Semantics: IsWordChar ( <var>e</var> )</h1>\n          <p>The abstract operation IsWordChar takes argument <var>e</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>). It performs the following steps when called:</p>\n          <emu-alg><ol><li>If <var>e</var> is -1 or <var>e</var> is <var>InputLength</var>, return <emu-val>false</emu-val>.</li><li>Let <var>c</var> be the character <var>Input</var>[<var>e</var>].</li><li>If <var>c</var> is in <var>WordCharacters</var>, return <emu-val>true</emu-val>.</li><li>Return <emu-val>false</emu-val>.</li></ol></emu-alg>\n        </emu-clause>\n      "}, "sec-nonemptyclassranges": {"num": "21.2.2.15", "title": "#sec-nonemptyclassranges NonemptyClassRanges", "html": "<emu-clause id=\"sec-nonemptyclassranges\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-nonemptyclassranges\">#sec-nonemptyclassranges</span> NonemptyClassRanges</h1>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRanges\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-NonemptyClassRanges\">NonemptyClassRanges</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"348b5cd2\"><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet that is the result of evaluating <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRanges\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-NonemptyClassRanges\">NonemptyClassRanges</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"f5b7332d\"><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt> to obtain a CharSet <var>B</var>.</li><li>Return the union of CharSets <var>A</var> and <var>B</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRanges\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-NonemptyClassRanges\">NonemptyClassRanges</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"a5b9453b\"><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-t>-</emu-t><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate the first <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Evaluate the second <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>B</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt> to obtain a CharSet <var>C</var>.</li><li>Let <var>D</var> be !&#160;<emu-xref aoid=\"CharacterRange\"><a href=\"#sec-runtime-semantics-characterrange-abstract-operation\">CharacterRange</a></emu-xref>(<var>A</var>, <var>B</var>).</li><li>Return the union of <var>D</var> and <var>C</var>.</li></ol></emu-alg>\n\n        <div id=\"excluded-sec-runtime-semantics-characterrange-abstract-operation\"><h1><span class=\"secnum\">21.2.2.15.1</span>#sec-runtime-semantics-characterrange-abstract-operation Runtime Semantics: CharacterRange ( A, B )</h1>...</div></emu-clause>\n\n      "}, "sec-regular-expression-patterns-semantics": {"num": "B.1.4.4", "title": "#sec-regular-expression-patterns-semantics Pattern Semantics", "html": "<emu-annex id=\"sec-regular-expression-patterns-semantics\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-regular-expression-patterns-semantics\">#sec-regular-expression-patterns-semantics</span> Pattern Semantics</h1>\n        <p>The semantics of <emu-xref href=\"#sec-pattern-semantics\"><a href=\"#sec-pattern-semantics\" class=\"excluded-xref\" excluded-id=\"sec-pattern-semantics\">#sec-pattern-semantics</a></emu-xref> is extended as follows:</p>\n        <p>Within <emu-xref href=\"#sec-term\"><a href=\"#sec-term\" class=\"excluded-xref\" excluded-id=\"sec-term\">#sec-term</a></emu-xref> reference to &#8220;<emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" id=\"prod-annexB-Atom\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> &#8221; are to be interpreted as meaning &#8220;<emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> &#8221; or &#8220;<emu-grammar><emu-production name=\"ExtendedAtom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"34eb148f\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> &#8221;.</p>\n\n        <p>Term (<emu-xref href=\"#sec-term\"><a href=\"#sec-term\" class=\"excluded-xref\" excluded-id=\"sec-term\">#sec-term</a></emu-xref>) includes the following additional evaluation rules:</p>\n        <p>The production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"fd5c877d\"><emu-nt><a href=\"#prod-annexB-QuantifiableAssertion\">QuantifiableAssertion</a></emu-nt><emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates the same as the production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"44aed0a4\"><emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt><emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> but with <emu-nt><a href=\"#prod-annexB-QuantifiableAssertion\">QuantifiableAssertion</a></emu-nt> substituted for <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt>.</p>\n        <p>The production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"74fbcc1b\"><emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt><emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates the same as the production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"44aed0a4\"><emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt><emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> but with <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt> substituted for <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt>.</p>\n        <p>The production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"9700dc98\"><emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates the same as the production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"41dded41\"><emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> but with <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt> substituted for <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt>.</p>\n\n        <p>Assertion (<emu-xref href=\"#sec-assertion\"><a href=\"#sec-assertion\" class=\"excluded-xref\" excluded-id=\"sec-assertion\">#sec-assertion</a></emu-xref>) includes the following additional evaluation rule:</p>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"645fd5dc\"><emu-nt><a href=\"#prod-annexB-QuantifiableAssertion\">QuantifiableAssertion</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-annexB-QuantifiableAssertion\">QuantifiableAssertion</a></emu-nt> to obtain a Matcher <var>m</var>.</li><li>Return <var>m</var>.</li></ol></emu-alg>\n\n        <p>Assertion (<emu-xref href=\"#sec-assertion\"><a href=\"#sec-assertion\" class=\"excluded-xref\" excluded-id=\"sec-assertion\">#sec-assertion</a></emu-xref>) evaluation rules for the <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"cfb94f94\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>=</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> and <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"ba98f6e2\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>!</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> productions are also used for the <emu-nt><a href=\"#prod-annexB-QuantifiableAssertion\">QuantifiableAssertion</a></emu-nt> productions, but with <emu-nt><a href=\"#prod-annexB-QuantifiableAssertion\">QuantifiableAssertion</a></emu-nt> substituted for <emu-nt><a href=\"#prod-annexB-Assertion\">Assertion</a></emu-nt>.</p>\n\n        <p>Atom (<emu-xref href=\"#sec-atom\"><a href=\"#sec-atom\" class=\"excluded-xref\" excluded-id=\"sec-atom\">#sec-atom</a></emu-xref>) evaluation rules for the <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt> productions except for <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"beff52c4\"><emu-nt><a href=\"#prod-PatternCharacter\">PatternCharacter</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> are also used for the <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt> productions, but with <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt> substituted for <emu-nt><a href=\"#prod-annexB-Atom\">Atom</a></emu-nt>. The following evaluation rules, with parameter <var>direction</var>, are also added:</p>\n        <p>The production <emu-grammar><emu-production name=\"ExtendedAtom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"dc7c5bc4\"><emu-t>\\</emu-t><emu-gann>[lookahead = <emu-t>c</emu-t>]</emu-gann></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>A</var> be the CharSet containing the single character <code>\\</code> U+005C (REVERSE SOLIDUS).</li><li>Return !&#160;<emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <emu-val>false</emu-val>, <var>direction</var>).</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"ExtendedAtom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-ExtendedAtom\">ExtendedAtom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"23a78a5b\"><emu-nt><a href=\"#prod-annexB-ExtendedPatternCharacter\">ExtendedPatternCharacter</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>ch</var> be the character represented by <emu-nt><a href=\"#prod-annexB-ExtendedPatternCharacter\">ExtendedPatternCharacter</a></emu-nt>.</li><li>Let <var>A</var> be a one-element CharSet containing the character <var>ch</var>.</li><li>Return !&#160;<emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <emu-val>false</emu-val>, <var>direction</var>).</li></ol></emu-alg>\n\n        <p>CharacterEscape (<emu-xref href=\"#sec-characterescape\"><a href=\"#sec-characterescape\" class=\"excluded-xref\" excluded-id=\"sec-characterescape\">#sec-characterescape</a></emu-xref>) includes the following additional evaluation rule:</p>\n        <p>The production <emu-grammar><emu-production name=\"CharacterEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-CharacterEscape\">CharacterEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"e8cc2b7c\"><emu-nt><a href=\"#prod-annexB-LegacyOctalEscapeSequence\">LegacyOctalEscapeSequence</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>cv</var> be the CharacterValue of this <emu-nt><a href=\"#prod-annexB-CharacterEscape\">CharacterEscape</a></emu-nt>.</li><li>Return the character whose character value is <var>cv</var>.</li></ol></emu-alg>\n\n        <p>NonemptyClassRanges (<emu-xref href=\"#sec-nonemptyclassranges\"><a href=\"#sec-nonemptyclassranges\" class=\"excluded-xref\" excluded-id=\"sec-nonemptyclassranges\">#sec-nonemptyclassranges</a></emu-xref>) modifies the following evaluation rule:</p>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRanges\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-NonemptyClassRanges\">NonemptyClassRanges</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"a5b9453b\"><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-t>-</emu-t><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate the first <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Evaluate the second <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>B</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt> to obtain a CharSet <var>C</var>.</li><li>Let <var>D</var> be !&#160;<emu-xref aoid=\"CharacterRangeOrUnion\"><a href=\"#sec-runtime-semantics-characterrangeorunion-abstract-operation\">CharacterRangeOrUnion</a></emu-xref>(<var>A</var>, <var>B</var>).</li><li>Return the union of <var>D</var> and <var>C</var>.</li></ol></emu-alg>\n\n        <p>NonemptyClassRangesNoDash (<emu-xref href=\"#sec-nonemptyclassrangesnodash\"><a href=\"#sec-nonemptyclassrangesnodash\" class=\"excluded-xref\" excluded-id=\"sec-nonemptyclassrangesnodash\">#sec-nonemptyclassrangesnodash</a></emu-xref>) modifies the following evaluation rule:</p>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRangesNoDash\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"e9856041\"><emu-nt><a href=\"#prod-annexB-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt><emu-t>-</emu-t><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-annexB-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>B</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt> to obtain a CharSet <var>C</var>.</li><li>Let <var>D</var> be !&#160;<emu-xref aoid=\"CharacterRangeOrUnion\"><a href=\"#sec-runtime-semantics-characterrangeorunion-abstract-operation\">CharacterRangeOrUnion</a></emu-xref>(<var>A</var>, <var>B</var>).</li><li>Return the union of <var>D</var> and <var>C</var>.</li></ol></emu-alg>\n\n        <p>ClassEscape (<emu-xref href=\"#sec-classescape\"><a href=\"#sec-classescape\" class=\"excluded-xref\" excluded-id=\"sec-classescape\">#sec-classescape</a></emu-xref>) includes the following additional evaluation rule:</p>\n        <p>The production <emu-grammar><emu-production name=\"ClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-ClassEscape\">ClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"361f85ec\"><emu-t>c</emu-t><emu-nt><a href=\"#prod-annexB-ClassControlLetter\">ClassControlLetter</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>cv</var> be the CharacterValue of this <emu-nt><a href=\"#prod-annexB-ClassEscape\">ClassEscape</a></emu-nt>.</li><li>Let <var>c</var> be the character whose character value is <var>cv</var>.</li><li>Return the CharSet containing the single character <var>c</var>.</li></ol></emu-alg>\n\n        <p>ClassAtomNoDash (<emu-xref href=\"#sec-classatomnodash\"><a href=\"#sec-classatomnodash\" class=\"excluded-xref\" excluded-id=\"sec-classatomnodash\">#sec-classatomnodash</a></emu-xref>) includes the following additional evaluation rule:</p>\n        <p>The production <emu-grammar><emu-production name=\"ClassAtomNoDash\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-annexB-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"dc7c5bc4\"><emu-t>\\</emu-t><emu-gann>[lookahead = <emu-t>c</emu-t>]</emu-gann></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet containing the single character <code>\\</code> U+005C (REVERSE SOLIDUS).</li></ol></emu-alg>\n\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">This production can only be reached from the sequence <code>\\c</code> within a character class where it is not followed by an acceptable control character.</div></emu-note>\n\n        <div id=\"excluded-sec-runtime-semantics-characterrangeorunion-abstract-operation\"><h1><span class=\"secnum\">B.1.4.4.1</span>#sec-runtime-semantics-characterrangeorunion-abstract-operation Runtime Semantics: CharacterRangeOrUnion ( A, B )</h1>...</div></emu-annex>\n    "}, "sec-notation": {"num": "21.2.2.1", "title": "#sec-notation Notation", "html": "<emu-clause id=\"sec-notation\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-notation\">#sec-notation</span> Notation</h1>\n        <p>The descriptions below use the following aliases:</p>\n        <ul>\n          <li>\n            <var>Input</var> is a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> consisting of all of the characters, in order, of the String being matched by the regular expression pattern. Each character is either a code unit or a code point, depending upon the kind of pattern involved. The notation <var>Input</var>[<var>n</var>] means the <var>n</var><sup>th</sup> character of <var>Input</var>, where <var>n</var> can range between 0 (inclusive) and <var>InputLength</var> (exclusive).\n          </li>\n          <li>\n            <var>InputLength</var> is the number of characters in <var>Input</var>.\n          </li>\n          <li>\n            <var>NcapturingParens</var> is the total number of left-capturing parentheses (i.e. the total number of <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> Parse Nodes) in the pattern. A left-capturing parenthesis is any <code>(</code> pattern character that is matched by the <code>(</code> terminal of the <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> production.\n          </li>\n          <li>\n            <var>DotAll</var> is <emu-val>true</emu-val> if the RegExp object's [[OriginalFlags]] internal slot contains <emu-val>\"s\"</emu-val> and otherwise is <emu-val>false</emu-val>.\n          </li>\n          <li>\n            <var>IgnoreCase</var> is <emu-val>true</emu-val> if the RegExp object's [[OriginalFlags]] internal slot contains <emu-val>\"i\"</emu-val> and otherwise is <emu-val>false</emu-val>.\n          </li>\n          <li>\n            <var>Multiline</var> is <emu-val>true</emu-val> if the RegExp object's [[OriginalFlags]] internal slot contains <emu-val>\"m\"</emu-val> and otherwise is <emu-val>false</emu-val>.\n          </li>\n          <li>\n            <var>Unicode</var> is <emu-val>true</emu-val> if the RegExp object's [[OriginalFlags]] internal slot contains <emu-val>\"u\"</emu-val> and otherwise is <emu-val>false</emu-val>.\n          </li>\n          <li oldids=\"sec-runtime-semantics-wordcharacters-abstract-operation\">\n            <var>WordCharacters</var> is the mathematical set that is the union of all sixty-three characters in <emu-val>\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_\"</emu-val> (letters, numbers, and U+005F (LOW LINE) in the Unicode Basic Latin block) and all characters <var>c</var> for which <var>c</var> is not in that set but <emu-xref aoid=\"Canonicalize\"><a href=\"#sec-runtime-semantics-canonicalize-ch\">Canonicalize</a></emu-xref>(<var>c</var>) is. <var>WordCharacters</var> cannot contain more than sixty-three characters unless <var>Unicode</var> and <var>IgnoreCase</var> are both <emu-val>true</emu-val>.\n          <span id=\"sec-runtime-semantics-wordcharacters-abstract-operation\"></span></li>\n        </ul>\n        <p>Furthermore, the descriptions below use the following internal data structures:</p>\n        <ul>\n          <li>\n            A <em>CharSet</em> is a mathematical set of characters. &#8220;All characters&#8221; means the CharSet containing all code point values when the <var>Unicode</var> flag is <emu-val>true</emu-val>, and otherwise means the CharSet containing all code unit values.\n          </li>\n          <li>\n            A <em>State</em> is an ordered pair (<var>endIndex</var>, <var>captures</var>) where <var>endIndex</var> is an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> and <var>captures</var> is a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> of <var>NcapturingParens</var> values. States are used to represent partial match states in the regular expression matching algorithms. The <var>endIndex</var> is one plus the index of the last input character matched so far by the pattern, while <var>captures</var> holds the results of capturing parentheses. The <var>n</var><sup>th</sup> element of <var>captures</var> is either a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> of characters that represents the value obtained by the <var>n</var><sup>th</sup> set of capturing parentheses or <emu-val>undefined</emu-val> if the <var>n</var><sup>th</sup> set of capturing parentheses hasn't been reached yet. Due to backtracking, many States may be in use at any time during the matching process.\n          </li>\n          <li>\n            A <em>MatchResult</em> is either a State or the special token <emu-const>failure</emu-const> that indicates that the match failed.\n          </li>\n          <li>\n            A <em>Continuation</em> is an <emu-xref href=\"#sec-abstract-closure\"><a href=\"#sec-abstract-closure\">Abstract Closure</a></emu-xref> that takes one State argument and returns a MatchResult result. The Continuation attempts to match the remaining portion (specified by the closure's captured values) of the pattern against <var>Input</var>, starting at the intermediate state given by its State argument. If the match succeeds, the Continuation returns the final State that it reached; if the match fails, the Continuation returns <emu-const>failure</emu-const>.\n          </li>\n          <li>\n            A <em>Matcher</em> is an <emu-xref href=\"#sec-abstract-closure\"><a href=\"#sec-abstract-closure\">Abstract Closure</a></emu-xref> that takes two arguments&#8212;a State and a Continuation&#8212;and returns a MatchResult result. A Matcher attempts to match a middle subpattern (specified by the closure's captured values) of the pattern against <var>Input</var>, starting at the intermediate state given by its State argument. The Continuation argument should be a closure that matches the rest of the pattern. After matching the subpattern of a pattern to obtain a new State, the Matcher then calls Continuation on that new State to test if the rest of the pattern can match as well. If it can, the Matcher returns the State returned by Continuation; if not, the Matcher may try different choices at its choice points, repeatedly calling Continuation until it either succeeds or all possibilities have been exhausted.\n          </li>\n        </ul>\n      </emu-clause>\n\n      "}, "sec-atomescape": {"num": "21.2.2.9", "title": "#sec-atomescape AtomEscape", "html": "<emu-clause id=\"sec-atomescape\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-atomescape\">#sec-atomescape</span> AtomEscape</h1>\n        <p>With parameter <var>direction</var>.</p>\n        <p>The production <emu-grammar><emu-production name=\"AtomEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-AtomEscape\">AtomEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"7ebff96c\"><emu-nt><a href=\"#prod-DecimalEscape\">DecimalEscape</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-DecimalEscape\">DecimalEscape</a></emu-nt> to obtain an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> <var>n</var>.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>n</var> &#8804; <var>NcapturingParens</var>.</li><li>Return !&#160;<emu-xref aoid=\"BackreferenceMatcher\"><a href=\"#sec-backreference-matcher\">BackreferenceMatcher</a></emu-xref>(<var>n</var>, <var>direction</var>).</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"AtomEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-AtomEscape\">AtomEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"163011be\"><emu-nt><a href=\"#prod-CharacterEscape\">CharacterEscape</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-CharacterEscape\">CharacterEscape</a></emu-nt> to obtain a character <var>ch</var>.</li><li>Let <var>A</var> be a one-element CharSet containing the character <var>ch</var>.</li><li>Return !&#160;<emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <emu-val>false</emu-val>, <var>direction</var>).</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"AtomEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-AtomEscape\">AtomEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"6f05bee4\"><emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Return !&#160;<emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <emu-val>false</emu-val>, <var>direction</var>).</li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n          <p>An escape sequence of the form <code>\\</code> followed by a nonzero decimal number <var>n</var> matches the result of the <var>n</var><sup>th</sup> set of capturing parentheses (<emu-xref href=\"#sec-notation\"><a href=\"#sec-notation\" class=\"excluded-xref\" excluded-id=\"sec-notation\">#sec-notation</a></emu-xref>). It is an error if the regular expression has fewer than <var>n</var> capturing parentheses. If the regular expression has <var>n</var> or more capturing parentheses but the <var>n</var><sup>th</sup> one is <emu-val>undefined</emu-val> because it has not captured anything, then the backreference always succeeds.</p>\n        </div></emu-note>\n        <p>The production <emu-grammar><emu-production name=\"AtomEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-AtomEscape\">AtomEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"743fd78c\"><emu-t>k</emu-t><emu-nt><a href=\"#prod-GroupName\">GroupName</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Search the enclosing <emu-nt><a href=\"#prod-Pattern\">Pattern</a></emu-nt> for an instance of a <emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt> for a <emu-nt><a href=\"#prod-RegExpIdentifierName\">RegExpIdentifierName</a></emu-nt> which has a StringValue equal to the StringValue of the <emu-nt><a href=\"#prod-RegExpIdentifierName\">RegExpIdentifierName</a></emu-nt> contained in <emu-nt><a href=\"#prod-GroupName\">GroupName</a></emu-nt>.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: A unique such <emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt> is found.</li><li>Let <var>parenIndex</var> be the number of left-capturing parentheses in the entire regular expression that occur to the left of the located <emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt>. This is the total number of <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> Parse Nodes prior to or enclosing the located <emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt>.</li><li>Return !&#160;<emu-xref aoid=\"BackreferenceMatcher\"><a href=\"#sec-backreference-matcher\">BackreferenceMatcher</a></emu-xref>(<var>parenIndex</var>, <var>direction</var>).</li></ol></emu-alg>\n\n        <div id=\"excluded-sec-backreference-matcher\"><h1><span class=\"secnum\">21.2.2.9.1</span>#sec-backreference-matcher Runtime Semantics: BackreferenceMatcher ( n, direction )</h1>...</div></emu-clause>\n\n      "}, "sec-runtime-semantics-repeatmatcher-abstract-operation": {"num": "21.2.2.5.1", "title": "#sec-runtime-semantics-repeatmatcher-abstract-operation Runtime Semantics: RepeatMatcher ( m, min, max, greedy, x, c, parenIndex, parenCount )", "html": "<emu-clause id=\"sec-runtime-semantics-repeatmatcher-abstract-operation\" aoid=\"RepeatMatcher\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-runtime-semantics-repeatmatcher-abstract-operation\">#sec-runtime-semantics-repeatmatcher-abstract-operation</span> Runtime Semantics: RepeatMatcher ( <var>m</var>, <var>min</var>, <var>max</var>, <var>greedy</var>, <var>x</var>, <var>c</var>, <var>parenIndex</var>, <var>parenCount</var> )</h1>\n          <p>The abstract operation RepeatMatcher takes arguments <var>m</var> (a Matcher), <var>min</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>), <var>max</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> or &#8734;), <var>greedy</var> (a Boolean), <var>x</var> (a State), <var>c</var> (a Continuation), <var>parenIndex</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>), and <var>parenCount</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>). It performs the following steps when called:</p>\n          <emu-alg><ol><li>If <var>max</var> is zero, return <var>c</var>(<var>x</var>).</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures <var>m</var>, <var>min</var>, <var>max</var>, <var>greedy</var>, <var>x</var>, <var>c</var>, <var>parenIndex</var>, and <var>parenCount</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li id=\"step-repeatmatcher-done\">If <var>min</var> is zero and <var>y</var>'s <var>endIndex</var> is equal to <var>x</var>'s <var>endIndex</var>, return <emu-const>failure</emu-const>.</li><li>If <var>min</var> is zero, let <var>min2</var> be zero; otherwise let <var>min2</var> be <var>min</var> - 1.</li><li>If <var>max</var> is &#8734;, let <var>max2</var> be &#8734;; otherwise let <var>max2</var> be <var>max</var> - 1.</li><li>Return !&#160;<emu-xref aoid=\"RepeatMatcher\"><a href=\"#sec-runtime-semantics-repeatmatcher-abstract-operation\">RepeatMatcher</a></emu-xref>(<var>m</var>, <var>min2</var>, <var>max2</var>, <var>greedy</var>, <var>y</var>, <var>c</var>, <var>parenIndex</var>, <var>parenCount</var>).</li></ol></li><li>Let <var>cap</var> be a copy of <var>x</var>'s <var>captures</var> <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li id=\"step-repeatmatcher-clear-captures\">For each <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> <var>k</var> that satisfies <var>parenIndex</var> &lt; <var>k</var> and <var>k</var> &#8804; <var>parenIndex</var> + <var>parenCount</var>, set <var>cap</var>[<var>k</var>] to <emu-val>undefined</emu-val>.</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>xr</var> be the State (<var>e</var>, <var>cap</var>).</li><li>If <var>min</var> is not zero, return <var>m</var>(<var>xr</var>, <var>d</var>).</li><li>If <var>greedy</var> is <emu-val>false</emu-val>, then<ol><li>Let <var>z</var> be <var>c</var>(<var>x</var>).</li><li>If <var>z</var> is not <emu-const>failure</emu-const>, return <var>z</var>.</li><li>Return <var>m</var>(<var>xr</var>, <var>d</var>).</li></ol></li><li>Let <var>z</var> be <var>m</var>(<var>xr</var>, <var>d</var>).</li><li>If <var>z</var> is not <emu-const>failure</emu-const>, return <var>z</var>.</li><li>Return <var>c</var>(<var>x</var>).</li></ol></emu-alg>\n          <emu-note><span class=\"note\">Note 1</span><div class=\"note-contents\">\n            <p>An <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> followed by a <emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt> is repeated the number of times specified by the <emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt>. A <emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt> can be non-greedy, in which case the <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> pattern is repeated as few times as possible while still matching the sequel, or it can be greedy, in which case the <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> pattern is repeated as many times as possible while still matching the sequel. The <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> pattern is repeated rather than the input character sequence that it matches, so different repetitions of the <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> can match different input substrings.</p>\n          </div></emu-note>\n          <emu-note><span class=\"note\">Note 2</span><div class=\"note-contents\">\n            <p>If the <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> and the sequel of the regular expression all have choice points, the <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> is first matched as many (or as few, if non-greedy) times as possible. All choices in the sequel are tried before moving on to the next choice in the last repetition of <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>. All choices in the last (n<sup>th</sup>) repetition of <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> are tried before moving on to the next choice in the next-to-last (n - 1)<sup>st</sup> repetition of <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>; at which point it may turn out that more or fewer repetitions of <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> are now possible; these are exhausted (again, starting with either as few or as many as possible) before moving on to the next choice in the (n - 1)<sup>st</sup> repetition of <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> and so on.</p>\n            <p>Compare</p>\n            <pre><code class=\"javascript hljs\">/a[a-z]{<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>}/.exec(<span class=\"hljs-string\">\"abcdefghi\"</span>)</code></pre>\n            <p>which returns <emu-val>\"abcde\"</emu-val> with</p>\n            <pre><code class=\"javascript hljs\">/a[a-z]{<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>}?<span class=\"hljs-regexp\">/.exec(\"abcdefghi\")</span></code></pre>\n            <p>which returns <emu-val>\"abc\"</emu-val>.</p>\n            <p>Consider also</p>\n            <pre><code class=\"javascript hljs\">/(aa|aabaac|ba|b|c)*<span class=\"hljs-regexp\">/.exec(\"aabaac\")</span></code></pre>\n            <p>which, by the choice point ordering above, returns the array</p>\n            <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"aaba\"</span>, <span class=\"hljs-string\">\"ba\"</span>]</code></pre>\n            <p>and not any of:</p>\n            <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"aabaac\"</span>, <span class=\"hljs-string\">\"aabaac\"</span>]\n[<span class=\"hljs-string\">\"aabaac\"</span>, <span class=\"hljs-string\">\"c\"</span>]</code></pre>\n            <p>The above ordering of choice points can be used to write a regular expression that calculates the greatest common divisor of two numbers (represented in unary notation). The following example calculates the gcd of 10 and 15:</p>\n            <pre><code class=\"javascript hljs\"><span class=\"hljs-string\">\"aaaaaaaaaa,aaaaaaaaaaaaaaa\"</span>.replace(<span class=\"hljs-regexp\">/^(a+)\\1*,\\1+$/</span>, <span class=\"hljs-string\">\"$1\"</span>)</code></pre>\n            <p>which returns the gcd in unary notation <emu-val>\"aaaaa\"</emu-val>.</p>\n          </div></emu-note>\n          <emu-note><span class=\"note\">Note 3</span><div class=\"note-contents\">\n            <p>Step <emu-xref href=\"#step-repeatmatcher-clear-captures\"><a href=\"#step-repeatmatcher-clear-captures\" class=\"excluded-xref\" excluded-id=\"step-repeatmatcher-clear-captures\">#step-repeatmatcher-clear-captures</a></emu-xref> of the RepeatMatcher clears <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>'s captures each time <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> is repeated. We can see its behaviour in the regular expression</p>\n            <pre><code class=\"javascript hljs\">/(z)((a+)?(b+)?(c))*<span class=\"hljs-regexp\">/.exec(\"zaacbbbcac\")</span></code></pre>\n            <p>which returns the array</p>\n            <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"zaacbbbcac\"</span>, <span class=\"hljs-string\">\"z\"</span>, <span class=\"hljs-string\">\"ac\"</span>, <span class=\"hljs-string\">\"a\"</span>, <span class=\"hljs-literal\">undefined</span>, <span class=\"hljs-string\">\"c\"</span>]</code></pre>\n            <p>and not</p>\n            <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"zaacbbbcac\"</span>, <span class=\"hljs-string\">\"z\"</span>, <span class=\"hljs-string\">\"ac\"</span>, <span class=\"hljs-string\">\"a\"</span>, <span class=\"hljs-string\">\"bbb\"</span>, <span class=\"hljs-string\">\"c\"</span>]</code></pre>\n            <p>because each iteration of the outermost <code>*</code> clears all captured Strings contained in the quantified <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>, which in this case includes capture Strings numbered 2, 3, 4, and 5.</p>\n          </div></emu-note>\n          <emu-note><span class=\"note\">Note 4</span><div class=\"note-contents\">\n            <p>Step <emu-xref href=\"#step-repeatmatcher-done\"><a href=\"#step-repeatmatcher-done\">2.b</a></emu-xref> of the RepeatMatcher states that once the minimum number of repetitions has been satisfied, any more expansions of <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> that match the empty character sequence are not considered for further repetitions. This prevents the regular expression engine from falling into an infinite loop on patterns such as:</p>\n            <pre><code class=\"javascript hljs\">/(a*)*<span class=\"hljs-regexp\">/.exec(\"b\")</span></code></pre>\n            <p>or the slightly more complicated:</p>\n            <pre><code class=\"javascript hljs\">/(a*)b\\<span class=\"hljs-number\">1</span>+<span class=\"hljs-regexp\">/.exec(\"baaaac\")</span></code></pre>\n            <p>which returns the array</p>\n            <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"b\"</span>, <span class=\"hljs-string\">\"\"</span>]</code></pre>\n          </div></emu-note>\n        </emu-clause>\n      "}, "sec-disjunction": {"num": "21.2.2.3", "title": "#sec-disjunction Disjunction", "html": "<emu-clause id=\"sec-disjunction\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-disjunction\">#sec-disjunction</span> Disjunction</h1>\n        <p>With parameter <var>direction</var>.</p>\n        <p>The production <emu-grammar><emu-production name=\"Disjunction\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"3b74e96e\"><emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m</var>.</li><li>Return <var>m</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Disjunction\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"253d8b05\"><emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt><emu-t>|</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m1</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m2</var>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m1</var> and <var>m2</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>r</var> be <var>m1</var>(<var>x</var>, <var>c</var>).</li><li>If <var>r</var> is not <emu-const>failure</emu-const>, return <var>r</var>.</li><li>Return <var>m2</var>(<var>x</var>, <var>c</var>).</li></ol></li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n          <p>The <code>|</code> regular expression operator separates two alternatives. The pattern first tries to match the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt> (followed by the sequel of the regular expression); if it fails, it tries to match the right <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> (followed by the sequel of the regular expression). If the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt>, the right <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt>, and the sequel all have choice points, all choices in the sequel are tried before moving on to the next choice in the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt>. If choices in the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt> are exhausted, the right <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> is tried instead of the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt>. Any capturing parentheses inside a portion of the pattern skipped by <code>|</code> produce <emu-val>undefined</emu-val> values instead of Strings. Thus, for example,</p>\n          <pre><code class=\"javascript hljs\">/a|ab/.exec(<span class=\"hljs-string\">\"abc\"</span>)</code></pre>\n          <p>returns the result <emu-val>\"a\"</emu-val> and not <emu-val>\"ab\"</emu-val>. Moreover,</p>\n          <pre><code class=\"javascript hljs\">/((a)|(ab))((c)|(bc))/.exec(<span class=\"hljs-string\">\"abc\"</span>)</code></pre>\n          <p>returns the array</p>\n          <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"abc\"</span>, <span class=\"hljs-string\">\"a\"</span>, <span class=\"hljs-string\">\"a\"</span>, <span class=\"hljs-literal\">undefined</span>, <span class=\"hljs-string\">\"bc\"</span>, <span class=\"hljs-literal\">undefined</span>, <span class=\"hljs-string\">\"bc\"</span>]</code></pre>\n          <p>and not</p>\n          <pre><code class=\"javascript hljs\">[<span class=\"hljs-string\">\"abc\"</span>, <span class=\"hljs-string\">\"ab\"</span>, <span class=\"hljs-literal\">undefined</span>, <span class=\"hljs-string\">\"ab\"</span>, <span class=\"hljs-string\">\"c\"</span>, <span class=\"hljs-string\">\"c\"</span>, <span class=\"hljs-literal\">undefined</span>]</code></pre>\n          <p>The order in which the two alternatives are tried is independent of the value of <var>direction</var>.</p>\n        </div></emu-note>\n      </emu-clause>\n\n      "}, "sec-alternative": {"num": "21.2.2.4", "title": "#sec-alternative Alternative", "html": "<emu-clause id=\"sec-alternative\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-alternative\">#sec-alternative</span> Alternative</h1>\n        <p>With parameter <var>direction</var>.</p>\n        <p>The production <emu-grammar><emu-production name=\"Alternative\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"37b9c04c\"><emu-gann>[empty]</emu-gann></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Return <var>c</var>(<var>x</var>).</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Alternative\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"bdc4c1a6\"><emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt><emu-nt><a href=\"#prod-Term\">Term</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m1</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m2</var>.</li><li>If <var>direction</var> is equal to +1, then<ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m1</var> and <var>m2</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures <var>c</var> and <var>m2</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Return <var>m2</var>(<var>y</var>, <var>c</var>).</li></ol></li><li>Return <var>m1</var>(<var>x</var>, <var>d</var>).</li></ol></li></ol></li><li>Else,<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>direction</var> is equal to -1.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m1</var> and <var>m2</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures <var>c</var> and <var>m1</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Return <var>m1</var>(<var>y</var>, <var>c</var>).</li></ol></li><li>Return <var>m2</var>(<var>x</var>, <var>d</var>).</li></ol></li></ol></li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n          <p>Consecutive <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt>s try to simultaneously match consecutive portions of <var>Input</var>. When <var>direction</var> is equal to +1, if the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt>, the right <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt>, and the sequel of the regular expression all have choice points, all choices in the sequel are tried before moving on to the next choice in the right <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt>, and all choices in the right <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt> are tried before moving on to the next choice in the left <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt>. When <var>direction</var> is equal to -1, the evaluation order of <emu-nt><a href=\"#prod-Alternative\">Alternative</a></emu-nt> and <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt> are reversed.</p>\n        </div></emu-note>\n      </emu-clause>\n\n      "}, "sec-characterclassescape": {"num": "21.2.2.12", "title": "#sec-characterclassescape CharacterClassEscape", "html": "<emu-clause id=\"sec-characterclassescape\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-characterclassescape\">#sec-characterclassescape</span> CharacterClassEscape</h1>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"f0f32729\"><emu-t>d</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the ten-element CharSet containing the characters <code>0</code> through <code>9</code> inclusive.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"919b1483\"><emu-t>D</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet containing all characters not in the CharSet returned by <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"f0f32729\"><emu-t>d</emu-t></emu-rhs>\n</emu-production></emu-grammar> .</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"5b9c6c6e\"><emu-t>s</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet containing all characters corresponding to a code point on the right-hand side of the <emu-nt><a href=\"#prod-WhiteSpace\">WhiteSpace</a></emu-nt> or <emu-nt><a href=\"#prod-LineTerminator\">LineTerminator</a></emu-nt> productions.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"6952cf48\"><emu-t>S</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet containing all characters not in the CharSet returned by <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"5b9c6c6e\"><emu-t>s</emu-t></emu-rhs>\n</emu-production></emu-grammar> .</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"2d8b484a\"><emu-t>w</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return <var>WordCharacters</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"ae15e851\"><emu-t>W</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet containing all characters not in the CharSet returned by <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"2d8b484a\"><emu-t>w</emu-t></emu-rhs>\n</emu-production></emu-grammar> .</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"c3a04bb2\"><emu-t>p{</emu-t><emu-nt><a href=\"#prod-UnicodePropertyValueExpression\">UnicodePropertyValueExpression</a></emu-nt><emu-t>}</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet containing all Unicode code points included in the CharSet returned by <emu-nt><a href=\"#prod-UnicodePropertyValueExpression\">UnicodePropertyValueExpression</a></emu-nt>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"CharacterClassEscape\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-CharacterClassEscape\">CharacterClassEscape</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"e281bb28\"><emu-t>P{</emu-t><emu-nt><a href=\"#prod-UnicodePropertyValueExpression\">UnicodePropertyValueExpression</a></emu-nt><emu-t>}</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet containing all Unicode code points not included in the CharSet returned by <emu-nt><a href=\"#prod-UnicodePropertyValueExpression\">UnicodePropertyValueExpression</a></emu-nt>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"UnicodePropertyValueExpression\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-UnicodePropertyValueExpression\">UnicodePropertyValueExpression</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"b11de407\"><emu-nt><a href=\"#prod-UnicodePropertyName\">UnicodePropertyName</a></emu-nt><emu-t>=</emu-t><emu-nt><a href=\"#prod-UnicodePropertyValue\">UnicodePropertyValue</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>ps</var> be SourceText of <emu-nt><a href=\"#prod-UnicodePropertyName\">UnicodePropertyName</a></emu-nt>.</li><li>Let <var>p</var> be !&#160;<emu-xref aoid=\"UnicodeMatchProperty\"><a href=\"#sec-runtime-semantics-unicodematchproperty-p\">UnicodeMatchProperty</a></emu-xref>(<var>ps</var>).</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>p</var> is a Unicode <emu-xref href=\"#property-name\"><a href=\"#property-name\">property name</a></emu-xref> or property alias listed in the &#8220;<emu-xref href=\"#property-name\"><a href=\"#property-name\">Property name</a></emu-xref> and aliases&#8221; column of <emu-xref href=\"#table-nonbinary-unicode-properties\"><a href=\"#table-nonbinary-unicode-properties\" class=\"excluded-xref\" excluded-id=\"table-nonbinary-unicode-properties\">#table-nonbinary-unicode-properties</a></emu-xref>.</li><li>Let <var>vs</var> be SourceText of <emu-nt><a href=\"#prod-UnicodePropertyValue\">UnicodePropertyValue</a></emu-nt>.</li><li>Let <var>v</var> be !&#160;<emu-xref aoid=\"UnicodeMatchPropertyValue\"><a href=\"#sec-runtime-semantics-unicodematchpropertyvalue-p-v\">UnicodeMatchPropertyValue</a></emu-xref>(<var>p</var>, <var>vs</var>).</li><li>Return the CharSet containing all Unicode code points whose character database definition includes the property <var>p</var> with value <var>v</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"UnicodePropertyValueExpression\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-UnicodePropertyValueExpression\">UnicodePropertyValueExpression</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"25d94190\"><emu-nt><a href=\"#prod-LoneUnicodePropertyNameOrValue\">LoneUnicodePropertyNameOrValue</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>s</var> be SourceText of <emu-nt><a href=\"#prod-LoneUnicodePropertyNameOrValue\">LoneUnicodePropertyNameOrValue</a></emu-nt>.</li><li>If !&#160;<emu-xref aoid=\"UnicodeMatchPropertyValue\"><a href=\"#sec-runtime-semantics-unicodematchpropertyvalue-p-v\">UnicodeMatchPropertyValue</a></emu-xref>(<code>General_Category</code>, <var>s</var>) is identical to a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> of Unicode code points that is the name of a Unicode general category or general category alias listed in the &#8220;Property value and aliases&#8221; column of <emu-xref href=\"#table-unicode-general-category-values\"><a href=\"#table-unicode-general-category-values\" class=\"excluded-xref\" excluded-id=\"table-unicode-general-category-values\">#table-unicode-general-category-values</a></emu-xref>, then<ol><li>Return the CharSet containing all Unicode code points whose character database definition includes the property &#8220;General_Category&#8221; with value <var>s</var>.</li></ol></li><li>Let <var>p</var> be !&#160;<emu-xref aoid=\"UnicodeMatchProperty\"><a href=\"#sec-runtime-semantics-unicodematchproperty-p\">UnicodeMatchProperty</a></emu-xref>(<var>s</var>).</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>p</var> is a binary Unicode property or binary property alias listed in the &#8220;<emu-xref href=\"#property-name\"><a href=\"#property-name\">Property name</a></emu-xref> and aliases&#8221; column of <emu-xref href=\"#table-binary-unicode-properties\"><a href=\"#table-binary-unicode-properties\" class=\"excluded-xref\" excluded-id=\"table-binary-unicode-properties\">#table-binary-unicode-properties</a></emu-xref>.</li><li>Return the CharSet containing all Unicode code points whose character database definition includes the property <var>p</var> with value &#8220;True&#8221;.</li></ol></emu-alg>\n      </emu-clause>\n\n      "}, "sec-assertion": {"num": "21.2.2.6", "title": "#sec-assertion Assertion", "html": "<emu-clause id=\"sec-assertion\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-assertion\">#sec-assertion</span> Assertion</h1>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"e5878811\"><emu-t>^</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>If <var>e</var> is zero, or if <var>Multiline</var> is <emu-val>true</emu-val> and the character <var>Input</var>[<var>e</var> - 1] is one of <emu-nt><a href=\"#prod-LineTerminator\">LineTerminator</a></emu-nt>, then<ol><li>Return <var>c</var>(<var>x</var>).</li></ol></li><li>Return <emu-const>failure</emu-const>.</li></ol></li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n          <p>Even when the <code>y</code> flag is used with a pattern, <code>^</code> always matches only at the beginning of <var>Input</var>, or (if <var>Multiline</var> is <emu-val>true</emu-val>) at the beginning of a line.</p>\n        </div></emu-note>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"1262cc92\"><emu-t>$</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>If <var>e</var> is equal to <var>InputLength</var>, or if <var>Multiline</var> is <emu-val>true</emu-val> and the character <var>Input</var>[<var>e</var>] is one of <emu-nt><a href=\"#prod-LineTerminator\">LineTerminator</a></emu-nt>, then<ol><li>Return <var>c</var>(<var>x</var>).</li></ol></li><li>Return <emu-const>failure</emu-const>.</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"1e228da5\"><emu-t>\\</emu-t><emu-t>b</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>a</var> be !&#160;<emu-xref aoid=\"IsWordChar\"><a href=\"#sec-runtime-semantics-iswordchar-abstract-operation\">IsWordChar</a></emu-xref>(<var>e</var> - 1).</li><li>Let <var>b</var> be !&#160;<emu-xref aoid=\"IsWordChar\"><a href=\"#sec-runtime-semantics-iswordchar-abstract-operation\">IsWordChar</a></emu-xref>(<var>e</var>).</li><li>If <var>a</var> = <var>b</var>, return <emu-const>failure</emu-const>.</li><li>Return <var>c</var>(<var>x</var>).</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"a5dc97fa\"><emu-t>\\</emu-t><emu-t>B</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>a</var> be !&#160;<emu-xref aoid=\"IsWordChar\"><a href=\"#sec-runtime-semantics-iswordchar-abstract-operation\">IsWordChar</a></emu-xref>(<var>e</var> - 1).</li><li>Let <var>b</var> be !&#160;<emu-xref aoid=\"IsWordChar\"><a href=\"#sec-runtime-semantics-iswordchar-abstract-operation\">IsWordChar</a></emu-xref>(<var>e</var>).</li><li>If <var>a</var> &#8800; <var>b</var>, return <emu-const>failure</emu-const>.</li><li>Return <var>c</var>(<var>x</var>).</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"cfb94f94\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>=</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with +1 as its <var>direction</var> argument to obtain a Matcher <var>m</var>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Return <var>y</var>.</li></ol></li><li>Let <var>r</var> be <var>m</var>(<var>x</var>, <var>d</var>).</li><li>If <var>r</var> is <emu-const>failure</emu-const>, return <emu-const>failure</emu-const>.</li><li>Let <var>y</var> be <var>r</var>'s State.</li><li>Let <var>cap</var> be <var>y</var>'s <var>captures</var> <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li>Let <var>xe</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>z</var> be the State (<var>xe</var>, <var>cap</var>).</li><li>Return <var>c</var>(<var>z</var>).</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"ba98f6e2\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>!</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with +1 as its <var>direction</var> argument to obtain a Matcher <var>m</var>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Return <var>y</var>.</li></ol></li><li>Let <var>r</var> be <var>m</var>(<var>x</var>, <var>d</var>).</li><li>If <var>r</var> is not <emu-const>failure</emu-const>, return <emu-const>failure</emu-const>.</li><li>Return <var>c</var>(<var>x</var>).</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"8db9fbbe\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>&lt;=</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with -1 as its <var>direction</var> argument to obtain a Matcher <var>m</var>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Return <var>y</var>.</li></ol></li><li>Let <var>r</var> be <var>m</var>(<var>x</var>, <var>d</var>).</li><li>If <var>r</var> is <emu-const>failure</emu-const>, return <emu-const>failure</emu-const>.</li><li>Let <var>y</var> be <var>r</var>'s State.</li><li>Let <var>cap</var> be <var>y</var>'s <var>captures</var> <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li>Let <var>xe</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>z</var> be the State (<var>xe</var>, <var>cap</var>).</li><li>Return <var>c</var>(<var>z</var>).</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Assertion\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"1b07b2c0\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>&lt;!</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with -1 as its <var>direction</var> argument to obtain a Matcher <var>m</var>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Return <var>y</var>.</li></ol></li><li>Let <var>r</var> be <var>m</var>(<var>x</var>, <var>d</var>).</li><li>If <var>r</var> is not <emu-const>failure</emu-const>, return <emu-const>failure</emu-const>.</li><li>Return <var>c</var>(<var>x</var>).</li></ol></li></ol></emu-alg>\n\n        <div id=\"excluded-sec-runtime-semantics-iswordchar-abstract-operation\"><h1><span class=\"secnum\">21.2.2.6.1</span>#sec-runtime-semantics-iswordchar-abstract-operation Runtime Semantics: IsWordChar ( e )</h1>...</div></emu-clause>\n      "}, "sec-term": {"num": "21.2.2.5", "title": "#sec-term Term", "html": "<emu-clause id=\"sec-term\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-term\">#sec-term</span> Term</h1>\n        <p>With parameter <var>direction</var>.</p>\n        <p>The production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"e03dc251\"><emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the Matcher that is the result of evaluating <emu-nt><a href=\"#prod-Assertion\">Assertion</a></emu-nt>.</li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n          <p>The resulting Matcher is independent of <var>direction</var>.</p>\n        </div></emu-note>\n        <p>The production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"41dded41\"><emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the Matcher that is the result of evaluating <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> with argument <var>direction</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Term\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"44aed0a4\"><emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-Quantifier\">Quantifier</a></emu-nt> to obtain the three results: an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> <var>min</var>, an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> (or &#8734;) <var>max</var>, and Boolean <var>greedy</var>.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: If <var>max</var> is finite, then <var>max</var> is not less than <var>min</var>.</li><li>Let <var>parenIndex</var> be the number of left-capturing parentheses in the entire regular expression that occur to the left of this <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt>. This is the total number of <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> Parse Nodes prior to or enclosing this <emu-nt><a href=\"#prod-Term\">Term</a></emu-nt>.</li><li>Let <var>parenCount</var> be the number of left-capturing parentheses in <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>. This is the total number of <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> Parse Nodes enclosed by <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>m</var>, <var>min</var>, <var>max</var>, <var>greedy</var>, <var>parenIndex</var>, and <var>parenCount</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Return !&#160;<emu-xref aoid=\"RepeatMatcher\"><a href=\"#sec-runtime-semantics-repeatmatcher-abstract-operation\">RepeatMatcher</a></emu-xref>(<var>m</var>, <var>min</var>, <var>max</var>, <var>greedy</var>, <var>x</var>, <var>c</var>, <var>parenIndex</var>, <var>parenCount</var>).</li></ol></li></ol></emu-alg>\n\n        <div id=\"excluded-sec-runtime-semantics-repeatmatcher-abstract-operation\"><h1><span class=\"secnum\">21.2.2.5.1</span>#sec-runtime-semantics-repeatmatcher-abstract-operation Runtime Semantics: RepeatMatcher ( m, min, max, greedy, x, c, parenIndex, parenCount )</h1>...</div></emu-clause>\n\n      "}, "sec-pattern": {"num": "21.2.2.2", "title": "#sec-pattern Pattern", "html": "<emu-clause id=\"sec-pattern\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-pattern\">#sec-pattern</span> Pattern</h1>\n        <p>The production <emu-grammar><emu-production name=\"Pattern\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Pattern\">Pattern</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"79a5bbd0\"><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with +1 as its <var>direction</var> argument to obtain a Matcher <var>m</var>.</li><li>Return a new <emu-xref href=\"#sec-abstract-closure\"><a href=\"#sec-abstract-closure\">Abstract Closure</a></emu-xref> with parameters (<var>str</var>, <var>index</var>) that captures <var>m</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <emu-xref aoid=\"Type\"><a href=\"#sec-ecmascript-data-types-and-values\">Type</a></emu-xref>(<var>str</var>) is String.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: !&#160;<emu-xref aoid=\"IsNonNegativeInteger\"><a href=\"#sec-isnonnegativeinteger\">IsNonNegativeInteger</a></emu-xref>(<var>index</var>) is <emu-val>true</emu-val> and <var>index</var> &#8804; the length of <var>str</var>.</li><li>If <var>Unicode</var> is <emu-val>true</emu-val>, let <var>Input</var> be a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> consisting of the sequence of code points of !&#160;<emu-xref aoid=\"UTF16DecodeString\"><a href=\"#sec-utf16decodestring\">UTF16DecodeString</a></emu-xref>(<var>str</var>). Otherwise, let <var>Input</var> be a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> consisting of the sequence of code units that are the elements of <var>str</var>. <var>Input</var> will be used throughout the algorithms in <emu-xref href=\"#sec-pattern-semantics\"><a href=\"#sec-pattern-semantics\" class=\"excluded-xref\" excluded-id=\"sec-pattern-semantics\">#sec-pattern-semantics</a></emu-xref>. Each element of <var>Input</var> is considered to be a character.</li><li>Let <var>InputLength</var> be the number of characters contained in <var>Input</var>. This alias will be used throughout the algorithms in <emu-xref href=\"#sec-pattern-semantics\"><a href=\"#sec-pattern-semantics\" class=\"excluded-xref\" excluded-id=\"sec-pattern-semantics\">#sec-pattern-semantics</a></emu-xref>.</li><li>Let <var>listIndex</var> be the index into <var>Input</var> of the character that was obtained from element <var>index</var> of <var>str</var>.</li><li>Let <var>c</var> be a new Continuation with parameters (<var>y</var>) that captures nothing and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Return <var>y</var>.</li></ol></li><li>Let <var>cap</var> be a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> of <var>NcapturingParens</var> <emu-val>undefined</emu-val> values, indexed 1 through <var>NcapturingParens</var>.</li><li>Let <var>x</var> be the State (<var>listIndex</var>, <var>cap</var>).</li><li>Return <var>m</var>(<var>x</var>, <var>c</var>).</li></ol></li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n          <p>A Pattern evaluates (&#8220;compiles&#8221;) to an <emu-xref href=\"#sec-abstract-closure\"><a href=\"#sec-abstract-closure\">Abstract Closure</a></emu-xref> value. <emu-xref aoid=\"RegExpBuiltinExec\"><a href=\"#sec-regexpbuiltinexec\">RegExpBuiltinExec</a></emu-xref> can then apply this procedure to a String and an offset within the String to determine whether the pattern would match starting at exactly that offset within the String, and, if it does match, what the values of the capturing parentheses would be. The algorithms in <emu-xref href=\"#sec-pattern-semantics\"><a href=\"#sec-pattern-semantics\" class=\"excluded-xref\" excluded-id=\"sec-pattern-semantics\">#sec-pattern-semantics</a></emu-xref> are designed so that compiling a pattern may throw a <emu-val>SyntaxError</emu-val> exception; on the other hand, once the pattern is successfully compiled, applying the resulting <emu-xref href=\"#sec-abstract-closure\"><a href=\"#sec-abstract-closure\">Abstract Closure</a></emu-xref> to find a match in a String cannot throw an exception (except for any <emu-xref href=\"#implementation-defined\"><a href=\"#implementation-defined\">implementation-defined</a></emu-xref> exceptions that can occur anywhere such as out-of-memory).</p>\n        </div></emu-note>\n      </emu-clause>\n\n      "}, "sec-runtime-semantics-characterrangeorunion-abstract-operation": {"num": "B.1.4.4.1", "title": "#sec-runtime-semantics-characterrangeorunion-abstract-operation Runtime Semantics: CharacterRangeOrUnion ( A, B )", "html": "<emu-annex id=\"sec-runtime-semantics-characterrangeorunion-abstract-operation\" aoid=\"CharacterRangeOrUnion\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-runtime-semantics-characterrangeorunion-abstract-operation\">#sec-runtime-semantics-characterrangeorunion-abstract-operation</span> Runtime Semantics: CharacterRangeOrUnion ( <var>A</var>, <var>B</var> )</h1>\n          <p>The abstract operation CharacterRangeOrUnion takes arguments <var>A</var> (a CharSet) and <var>B</var> (a CharSet). It performs the following steps when called:</p>\n          <emu-alg><ol><li>If <var>Unicode</var> is <emu-val>false</emu-val>, then<ol><li>If <var>A</var> does not contain exactly one character or <var>B</var> does not contain exactly one character, then<ol><li>Let <var>C</var> be the CharSet containing the single character <code>-</code> U+002D (HYPHEN-MINUS).</li><li>Return the union of CharSets <var>A</var>, <var>B</var> and <var>C</var>.</li></ol></li></ol></li><li>Return !&#160;<emu-xref aoid=\"CharacterRange\"><a href=\"#sec-runtime-semantics-characterrange-abstract-operation\">CharacterRange</a></emu-xref>(<var>A</var>, <var>B</var>).</li></ol></emu-alg>\n        </emu-annex>\n      "}, "sec-atom": {"num": "21.2.2.8", "title": "#sec-atom Atom", "html": "<emu-clause id=\"sec-atom\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-atom\">#sec-atom</span> Atom</h1>\n        <p>With parameter <var>direction</var>.</p>\n        <p>The production <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"beff52c4\"><emu-nt><a href=\"#prod-PatternCharacter\">PatternCharacter</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>ch</var> be the character matched by <emu-nt><a href=\"#prod-PatternCharacter\">PatternCharacter</a></emu-nt>.</li><li>Let <var>A</var> be a one-element CharSet containing the character <var>ch</var>.</li><li>Return !&#160;<emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <emu-val>false</emu-val>, <var>direction</var>).</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"9658e473\"><emu-t>.</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Let <var>A</var> be the CharSet of all characters.</li><li>If <var>DotAll</var> is not <emu-val>true</emu-val>, then<ol><li>Remove from <var>A</var> all characters corresponding to a code point on the right-hand side of the <emu-nt><a href=\"#prod-LineTerminator\">LineTerminator</a></emu-nt> production.</li></ol></li><li>Return !&#160;<emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <emu-val>false</emu-val>, <var>direction</var>).</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"9ce67ea4\"><emu-t>\\</emu-t><emu-nt><a href=\"#prod-AtomEscape\">AtomEscape</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the Matcher that is the result of evaluating <emu-nt><a href=\"#prod-AtomEscape\">AtomEscape</a></emu-nt> with argument <var>direction</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"66aaa8b9\"><emu-nt><a href=\"#prod-CharacterClass\">CharacterClass</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-CharacterClass\">CharacterClass</a></emu-nt> to obtain a CharSet <var>A</var> and a Boolean <var>invert</var>.</li><li>Return !&#160;<emu-xref aoid=\"CharacterSetMatcher\"><a href=\"#sec-runtime-semantics-charactersetmatcher-abstract-operation\">CharacterSetMatcher</a></emu-xref>(<var>A</var>, <var>invert</var>, <var>direction</var>).</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with argument <var>direction</var> to obtain a Matcher <var>m</var>.</li><li>Let <var>parenIndex</var> be the number of left-capturing parentheses in the entire regular expression that occur to the left of this <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>. This is the total number of <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"59aa089b\"><emu-t>(</emu-t><emu-nt><a href=\"#prod-GroupSpecifier\">GroupSpecifier</a></emu-nt><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> Parse Nodes prior to or enclosing this <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt>.</li><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>direction</var>, <var>m</var>, and <var>parenIndex</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>d</var> be a new Continuation with parameters (<var>y</var>) that captures <var>x</var>, <var>c</var>, <var>direction</var>, and <var>parenIndex</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>y</var> is a State.</li><li>Let <var>cap</var> be a copy of <var>y</var>'s <var>captures</var> <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li>Let <var>xe</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>ye</var> be <var>y</var>'s <var>endIndex</var>.</li><li>If <var>direction</var> is equal to +1, then<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>xe</var> &#8804; <var>ye</var>.</li><li>Let <var>s</var> be a new <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> whose elements are the characters of <var>Input</var> at indices <var>xe</var> (inclusive) through <var>ye</var> (exclusive).</li></ol></li><li>Else,<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>direction</var> is equal to -1.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>ye</var> &#8804; <var>xe</var>.</li><li>Let <var>s</var> be a new <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> whose elements are the characters of <var>Input</var> at indices <var>ye</var> (inclusive) through <var>xe</var> (exclusive).</li></ol></li><li>Set <var>cap</var>[<var>parenIndex</var> + 1] to <var>s</var>.</li><li>Let <var>z</var> be the State (<var>ye</var>, <var>cap</var>).</li><li>Return <var>c</var>(<var>z</var>).</li></ol></li><li>Return <var>m</var>(<var>x</var>, <var>d</var>).</li></ol></li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"Atom\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-Atom\">Atom</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"d76db7c5\"><emu-t>(</emu-t><emu-t>?</emu-t><emu-t>:</emu-t><emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt><emu-t>)</emu-t></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the Matcher that is the result of evaluating <emu-nt><a href=\"#prod-Disjunction\">Disjunction</a></emu-nt> with argument <var>direction</var>.</li></ol></emu-alg>\n\n        <div id=\"excluded-sec-runtime-semantics-charactersetmatcher-abstract-operation\"><h1><span class=\"secnum\">21.2.2.8.1</span>#sec-runtime-semantics-charactersetmatcher-abstract-operation Runtime Semantics: CharacterSetMatcher ( A, invert, direction )</h1>...</div><div id=\"excluded-sec-runtime-semantics-canonicalize-ch\"><h1><span class=\"secnum\">21.2.2.8.2</span>#sec-runtime-semantics-canonicalize-ch Runtime Semantics: Canonicalize ( ch )</h1>...</div><div id=\"excluded-sec-runtime-semantics-unicodematchproperty-p\"><h1><span class=\"secnum\">21.2.2.8.3</span>#sec-runtime-semantics-unicodematchproperty-p Runtime Semantics: UnicodeMatchProperty ( p )</h1>...</div><div id=\"excluded-sec-runtime-semantics-unicodematchpropertyvalue-p-v\"><h1><span class=\"secnum\">21.2.2.8.4</span>#sec-runtime-semantics-unicodematchpropertyvalue-p-v Runtime Semantics: UnicodeMatchPropertyValue ( p, v )</h1>...</div></emu-clause>\n\n      "}, "sec-backreference-matcher": {"num": "21.2.2.9.1", "title": "#sec-backreference-matcher Runtime Semantics: BackreferenceMatcher ( n, direction )", "html": "<emu-clause id=\"sec-backreference-matcher\" aoid=\"BackreferenceMatcher\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-backreference-matcher\">#sec-backreference-matcher</span> Runtime Semantics: BackreferenceMatcher ( <var>n</var>, <var>direction</var> )</h1>\n          <p>The abstract operation BackreferenceMatcher takes arguments <var>n</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>) and <var>direction</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>). It performs the following steps when called:</p>\n          <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>n</var> and <var>direction</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>cap</var> be <var>x</var>'s <var>captures</var> <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li>Let <var>s</var> be <var>cap</var>[<var>n</var>].</li><li>If <var>s</var> is <emu-val>undefined</emu-val>, return <var>c</var>(<var>x</var>).</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>len</var> be the number of elements in <var>s</var>.</li><li>Let <var>f</var> be <var>e</var> + <var>direction</var> &#215; <var>len</var>.</li><li>If <var>f</var> &lt; 0 or <var>f</var> &gt; <var>InputLength</var>, return <emu-const>failure</emu-const>.</li><li>Let <var>g</var> be <emu-xref aoid=\"min\"><a href=\"#eqn-min\">min</a></emu-xref>(<var>e</var>, <var>f</var>).</li><li>If there exists an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref> <var>i</var> between 0 (inclusive) and <var>len</var> (exclusive) such that <emu-xref aoid=\"Canonicalize\"><a href=\"#sec-runtime-semantics-canonicalize-ch\">Canonicalize</a></emu-xref>(<var>s</var>[<var>i</var>]) is not the same character value as <emu-xref aoid=\"Canonicalize\"><a href=\"#sec-runtime-semantics-canonicalize-ch\">Canonicalize</a></emu-xref>(<var>Input</var>[<var>g</var> + <var>i</var>]), return <emu-const>failure</emu-const>.</li><li>Let <var>y</var> be the State (<var>f</var>, <var>cap</var>).</li><li>Return <var>c</var>(<var>y</var>).</li></ol></li></ol></emu-alg>\n        </emu-clause>\n      "}, "sec-nonemptyclassrangesnodash": {"num": "21.2.2.16", "title": "#sec-nonemptyclassrangesnodash NonemptyClassRangesNoDash", "html": "<emu-clause id=\"sec-nonemptyclassrangesnodash\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-nonemptyclassrangesnodash\">#sec-nonemptyclassrangesnodash</span> NonemptyClassRangesNoDash</h1>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRangesNoDash\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"348b5cd2\"><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Return the CharSet that is the result of evaluating <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRangesNoDash\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"6762c921\"><emu-nt><a href=\"#prod-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt><emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt> to obtain a CharSet <var>B</var>.</li><li>Return the union of CharSets <var>A</var> and <var>B</var>.</li></ol></emu-alg>\n        <p>The production <emu-grammar><emu-production name=\"NonemptyClassRangesNoDash\" type=\"lexical\" collapsed=\"\" class=\" inline\">\n    <emu-nt><a href=\"#prod-NonemptyClassRangesNoDash\">NonemptyClassRangesNoDash</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a=\"e9856041\"><emu-nt><a href=\"#prod-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt><emu-t>-</emu-t><emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt><emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt></emu-rhs>\n</emu-production></emu-grammar> evaluates as follows:</p>\n        <emu-alg><ol><li>Evaluate <emu-nt><a href=\"#prod-ClassAtomNoDash\">ClassAtomNoDash</a></emu-nt> to obtain a CharSet <var>A</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> to obtain a CharSet <var>B</var>.</li><li>Evaluate <emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt> to obtain a CharSet <var>C</var>.</li><li>Let <var>D</var> be !&#160;<emu-xref aoid=\"CharacterRange\"><a href=\"#sec-runtime-semantics-characterrange-abstract-operation\">CharacterRange</a></emu-xref>(<var>A</var>, <var>B</var>).</li><li>Return the union of <var>D</var> and <var>C</var>.</li></ol></emu-alg>\n        <emu-note><span class=\"note\">Note 1</span><div class=\"note-contents\">\n          <p><emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt> can expand into a single <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> and/or ranges of two <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> separated by dashes. In the latter case the <emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt> includes all characters between the first <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> and the second <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt>, inclusive; an error occurs if either <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt> does not represent a single character (for example, if one is \\w) or if the first <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt>'s character value is greater than the second <emu-nt><a href=\"#prod-ClassAtom\">ClassAtom</a></emu-nt>'s character value.</p>\n        </div></emu-note>\n        <emu-note><span class=\"note\">Note 2</span><div class=\"note-contents\">\n          <p>Even if the pattern ignores case, the case of the two ends of a range is significant in determining which characters belong to the range. Thus, for example, the pattern <code>/[E-F]/i</code> matches only the letters <code>E</code>, <code>F</code>, <code>e</code>, and <code>f</code>, while the pattern <code>/[E-f]/i</code> matches all upper and lower-case letters in the Unicode Basic Latin block as well as the symbols <code>[</code>, <code>\\</code>, <code>]</code>, <code>^</code>, <code>_</code>, and <code>`</code>.</p>\n        </div></emu-note>\n        <emu-note><span class=\"note\">Note 3</span><div class=\"note-contents\">\n          <p>A <code>-</code> character can be treated literally or it can denote a range. It is treated literally if it is the first or last character of <emu-nt><a href=\"#prod-ClassRanges\">ClassRanges</a></emu-nt>, the beginning or end limit of a range specification, or immediately follows a range specification.</p>\n        </div></emu-note>\n      </emu-clause>\n\n      "}, "sec-runtime-semantics-charactersetmatcher-abstract-operation": {"num": "21.2.2.8.1", "title": "#sec-runtime-semantics-charactersetmatcher-abstract-operation Runtime Semantics: CharacterSetMatcher ( A, invert, direction )", "html": "<emu-clause id=\"sec-runtime-semantics-charactersetmatcher-abstract-operation\" aoid=\"CharacterSetMatcher\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-runtime-semantics-charactersetmatcher-abstract-operation\">#sec-runtime-semantics-charactersetmatcher-abstract-operation</span> Runtime Semantics: CharacterSetMatcher ( <var>A</var>, <var>invert</var>, <var>direction</var> )</h1>\n          <p>The abstract operation CharacterSetMatcher takes arguments <var>A</var> (a CharSet), <var>invert</var> (a Boolean), and <var>direction</var> (an <emu-xref href=\"#integer\"><a href=\"#integer\">integer</a></emu-xref>). It performs the following steps when called:</p>\n          <emu-alg><ol><li>Return a new Matcher with parameters (<var>x</var>, <var>c</var>) that captures <var>A</var>, <var>invert</var>, and <var>direction</var> and performs the following steps when called:<ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>x</var> is a State.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>c</var> is a Continuation.</li><li>Let <var>e</var> be <var>x</var>'s <var>endIndex</var>.</li><li>Let <var>f</var> be <var>e</var> + <var>direction</var>.</li><li>If <var>f</var> &lt; 0 or <var>f</var> &gt; <var>InputLength</var>, return <emu-const>failure</emu-const>.</li><li>Let <var>index</var> be <emu-xref aoid=\"min\"><a href=\"#eqn-min\">min</a></emu-xref>(<var>e</var>, <var>f</var>).</li><li>Let <var>ch</var> be the character <var>Input</var>[<var>index</var>].</li><li>Let <var>cc</var> be <emu-xref aoid=\"Canonicalize\"><a href=\"#sec-runtime-semantics-canonicalize-ch\">Canonicalize</a></emu-xref>(<var>ch</var>).</li><li>If there exists a member <var>a</var> of <var>A</var> such that <emu-xref aoid=\"Canonicalize\"><a href=\"#sec-runtime-semantics-canonicalize-ch\">Canonicalize</a></emu-xref>(<var>a</var>) is <var>cc</var>, let <var>found</var> be <emu-val>true</emu-val>. Otherwise, let <var>found</var> be <emu-val>false</emu-val>.</li><li>If <var>invert</var> is <emu-val>false</emu-val> and <var>found</var> is <emu-val>false</emu-val>, return <emu-const>failure</emu-const>.</li><li>If <var>invert</var> is <emu-val>true</emu-val> and <var>found</var> is <emu-val>true</emu-val>, return <emu-const>failure</emu-const>.</li><li>Let <var>cap</var> be <var>x</var>'s <var>captures</var> <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li>Let <var>y</var> be the State (<var>f</var>, <var>cap</var>).</li><li>Return <var>c</var>(<var>y</var>).</li></ol></li></ol></emu-alg>\n        </emu-clause>\n\n        "}, "sec-runtime-semantics-characterrange-abstract-operation": {"num": "21.2.2.15.1", "title": "#sec-runtime-semantics-characterrange-abstract-operation Runtime Semantics: CharacterRange ( A, B )", "html": "<emu-clause id=\"sec-runtime-semantics-characterrange-abstract-operation\" aoid=\"CharacterRange\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-runtime-semantics-characterrange-abstract-operation\">#sec-runtime-semantics-characterrange-abstract-operation</span> Runtime Semantics: CharacterRange ( <var>A</var>, <var>B</var> )</h1>\n          <p>The abstract operation CharacterRange takes arguments <var>A</var> (a CharSet) and <var>B</var> (a CharSet). It performs the following steps when called:</p>\n          <emu-alg><ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>A</var> and <var>B</var> each contain exactly one character.</li><li>Let <var>a</var> be the one character in CharSet <var>A</var>.</li><li>Let <var>b</var> be the one character in CharSet <var>B</var>.</li><li>Let <var>i</var> be the character value of character <var>a</var>.</li><li>Let <var>j</var> be the character value of character <var>b</var>.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>i</var> &#8804; <var>j</var>.</li><li>Return a CharSet containing all characters with a character value greater than or equal to <var>i</var> and less than or equal to <var>j</var>.</li></ol></emu-alg>\n        </emu-clause>\n      "}}, "figData": {"table-nonbinary-unicode-properties": "Table 55", "table-binary-unicode-properties": "Table 56", "table-unicode-general-category-values": "Table 57"}}}