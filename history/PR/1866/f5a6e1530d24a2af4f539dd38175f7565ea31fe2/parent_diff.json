{"from": {"secList": ["sec-isvalidregularexpressionliteral", "sec-abstract-operations-for-the-regexp-constructor", "sec-regexpinitialize"], "secData": {"sec-isvalidregularexpressionliteral": {"num": "12.2.8.2", "title": "#sec-isvalidregularexpressionliteral Static Semantics: IsValidRegularExpressionLiteral ( literal )", "html": "<emu-clause id=\"sec-isvalidregularexpressionliteral\" aoid=\"IsValidRegularExpressionLiteral\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-isvalidregularexpressionliteral\">#sec-isvalidregularexpressionliteral</span> Static Semantics: IsValidRegularExpressionLiteral ( <var>literal</var> )</h1>\n        <p>The abstract operation IsValidRegularExpressionLiteral takes argument <var>literal</var>. It determines if its argument is a valid regular expression literal. It performs the following steps when called:</p>\n        <emu-alg><ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>literal</var> is a <emu-nt><a href=\"#prod-RegularExpressionLiteral\">RegularExpressionLiteral</a></emu-nt>.</li><li>If FlagText of <var>literal</var> contains any code points other than <code>g</code>, <code>i</code>, <code>m</code>, <code>s</code>, <code>u</code>, or <code>y</code>, or if it contains the same code point more than once, return <emu-val>false</emu-val>.</li><li>Let <var>P</var> be BodyText of <var>literal</var>.</li><li>If FlagText of <var>literal</var> contains <code>u</code>, then<ol><li>Parse <var>P</var> using the grammars in <emu-xref href=\"#sec-patterns\"><a href=\"#sec-patterns\" class=\"excluded-xref\" excluded-id=\"sec-patterns\">#sec-patterns</a></emu-xref>. The <emu-xref href=\"#sec-context-free-grammars\"><a href=\"#sec-context-free-grammars\">goal symbol</a></emu-xref> for the parse is <emu-nt params=\"+U, +N\"><a href=\"#prod-Pattern\">Pattern</a><emu-mods><emu-params>[+U, +N]</emu-params></emu-mods></emu-nt>. If <var>P</var> did not conform to the grammar, if any elements of <var>P</var> were not matched by the parse, or if any Early Error conditions exist, return <emu-val>false</emu-val>. Otherwise, return <emu-val>true</emu-val>.</li></ol></li><li>Let <var>stringValue</var> be <emu-xref aoid=\"UTF16Encode\"><a href=\"#sec-utf16encode\">UTF16Encode</a></emu-xref>(<var>P</var>).</li><li>Let <var>pText</var> be the sequence of code points resulting from interpreting each of the 16-bit elements of <var>stringValue</var> as a Unicode BMP code point. UTF-16 decoding is not applied to the elements.</li><li>Parse <var>pText</var> using the grammars in <emu-xref href=\"#sec-patterns\"><a href=\"#sec-patterns\" class=\"excluded-xref\" excluded-id=\"sec-patterns\">#sec-patterns</a></emu-xref>. The <emu-xref href=\"#sec-context-free-grammars\"><a href=\"#sec-context-free-grammars\">goal symbol</a></emu-xref> for the parse is <emu-nt params=\"~U, ~N\"><a href=\"#prod-Pattern\">Pattern</a><emu-mods><emu-params>[~U, ~N]</emu-params></emu-mods></emu-nt>. If the result of parsing contains a <emu-nt><a href=\"#prod-GroupName\">GroupName</a></emu-nt>, reparse with the <emu-xref href=\"#sec-context-free-grammars\"><a href=\"#sec-context-free-grammars\">goal symbol</a></emu-xref> <emu-nt params=\"~U, +N\"><a href=\"#prod-Pattern\">Pattern</a><emu-mods><emu-params>[~U, +N]</emu-params></emu-mods></emu-nt>. If <var>pText</var> did not conform to the grammar, if any elements of <var>pText</var> were not matched by the parse, or if any Early Error conditions exist, return <emu-val>false</emu-val>. Otherwise, return <emu-val>true</emu-val>.\n        </li></ol></emu-alg>\n      </emu-clause>\n\n      "}, "sec-abstract-operations-for-the-regexp-constructor": {"num": "21.2.3.2", "title": "#sec-abstract-operations-for-the-regexp-constructor Abstract Operations for the RegExp Constructor", "html": "<emu-clause id=\"sec-abstract-operations-for-the-regexp-constructor\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-abstract-operations-for-the-regexp-constructor\">#sec-abstract-operations-for-the-regexp-constructor</span> Abstract Operations for the RegExp Constructor</h1>\n\n        <div id=\"excluded-sec-regexpalloc\"><h1><span class=\"secnum\">21.2.3.2.1</span>#sec-regexpalloc Runtime Semantics: RegExpAlloc ( newTarget )</h1>...</div><div id=\"excluded-sec-regexpinitialize\"><h1><span class=\"secnum\">21.2.3.2.2</span>#sec-regexpinitialize Runtime Semantics: RegExpInitialize ( obj, pattern, flags )</h1>...</div><div id=\"excluded-sec-regexpcreate\"><h1><span class=\"secnum\">21.2.3.2.3</span>#sec-regexpcreate Runtime Semantics: RegExpCreate ( P, F )</h1>...</div><div id=\"excluded-sec-escaperegexppattern\"><h1><span class=\"secnum\">21.2.3.2.4</span>#sec-escaperegexppattern Runtime Semantics: EscapeRegExpPattern ( P, F )</h1>...</div></emu-clause>\n    "}, "sec-regexpinitialize": {"num": "21.2.3.2.2", "title": "#sec-regexpinitialize Runtime Semantics: RegExpInitialize ( obj, pattern, flags )", "html": "<emu-clause id=\"sec-regexpinitialize\" aoid=\"RegExpInitialize\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-regexpinitialize\">#sec-regexpinitialize</span> Runtime Semantics: RegExpInitialize ( <var>obj</var>, <var>pattern</var>, <var>flags</var> )</h1>\n          <p>The abstract operation RegExpInitialize takes arguments <var>obj</var>, <var>pattern</var>, and <var>flags</var>. It performs the following steps when called:</p>\n          <emu-alg><ol><li>If <var>pattern</var> is <emu-val>undefined</emu-val>, let <var>P</var> be the empty String.</li><li>Else, let <var>P</var> be ?&#160;<emu-xref aoid=\"ToString\"><a href=\"#sec-tostring\">ToString</a></emu-xref>(<var>pattern</var>).</li><li>If <var>flags</var> is <emu-val>undefined</emu-val>, let <var>F</var> be the empty String.</li><li>Else, let <var>F</var> be ?&#160;<emu-xref aoid=\"ToString\"><a href=\"#sec-tostring\">ToString</a></emu-xref>(<var>flags</var>).</li><li>If <var>F</var> contains any code unit other than <emu-val>\"g\"</emu-val>, <emu-val>\"i\"</emu-val>, <emu-val>\"m\"</emu-val>, <emu-val>\"s\"</emu-val>, <emu-val>\"u\"</emu-val>, or <emu-val>\"y\"</emu-val> or if it contains the same code unit more than once, throw a <emu-val>SyntaxError</emu-val> exception.</li><li>If <var>F</var> contains <emu-val>\"u\"</emu-val>, let <var>BMP</var> be <emu-val>false</emu-val>; else let <var>BMP</var> be <emu-val>true</emu-val>.</li><li>If <var>BMP</var> is <emu-val>true</emu-val>, then<ol><li>Let <var>pText</var> be the sequence of code points resulting from interpreting each of the 16-bit elements of <var>P</var> as a Unicode BMP code point. UTF-16 decoding is not applied to the elements.</li><li>Parse <var>pText</var> using the grammars in <emu-xref href=\"#sec-patterns\"><a href=\"#sec-patterns\" class=\"excluded-xref\" excluded-id=\"sec-patterns\">#sec-patterns</a></emu-xref>. The <emu-xref href=\"#sec-context-free-grammars\"><a href=\"#sec-context-free-grammars\">goal symbol</a></emu-xref> for the parse is <emu-nt params=\"~U, ~N\"><a href=\"#prod-Pattern\">Pattern</a><emu-mods><emu-params>[~U, ~N]</emu-params></emu-mods></emu-nt>. If the result of parsing contains a <emu-nt><a href=\"#prod-GroupName\">GroupName</a></emu-nt>, reparse with the <emu-xref href=\"#sec-context-free-grammars\"><a href=\"#sec-context-free-grammars\">goal symbol</a></emu-xref> <emu-nt params=\"~U, +N\"><a href=\"#prod-Pattern\">Pattern</a><emu-mods><emu-params>[~U, +N]</emu-params></emu-mods></emu-nt> and use this result instead. Throw a <emu-val>SyntaxError</emu-val> exception if <var>pText</var> did not conform to the grammar, if any elements of <var>pText</var> were not matched by the parse, or if any Early Error conditions exist.</li><li>Let <var>patternCharacters</var> be a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> whose elements are the code unit elements of <var>P</var>.</li></ol></li><li>Else,<ol><li>Let <var>pText</var> be !&#160;<emu-xref aoid=\"UTF16DecodeString\"><a href=\"#sec-utf16decodestring\">UTF16DecodeString</a></emu-xref>(<var>P</var>).</li><li>Parse <var>pText</var> using the grammars in <emu-xref href=\"#sec-patterns\"><a href=\"#sec-patterns\" class=\"excluded-xref\" excluded-id=\"sec-patterns\">#sec-patterns</a></emu-xref>. The <emu-xref href=\"#sec-context-free-grammars\"><a href=\"#sec-context-free-grammars\">goal symbol</a></emu-xref> for the parse is <emu-nt params=\"+U, +N\"><a href=\"#prod-Pattern\">Pattern</a><emu-mods><emu-params>[+U, +N]</emu-params></emu-mods></emu-nt>. Throw a <emu-val>SyntaxError</emu-val> exception if <var>pText</var> did not conform to the grammar, if any elements of <var>pText</var> were not matched by the parse, or if any Early Error conditions exist.</li><li>Let <var>patternCharacters</var> be a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> whose elements are the code points of <var>pText</var>.</li></ol></li><li>Set <var>obj</var>.[[OriginalSource]] to <var>P</var>.</li><li>Set <var>obj</var>.[[OriginalFlags]] to <var>F</var>.</li><li>Set <var>obj</var>.[[RegExpMatcher]] to the <emu-xref href=\"#sec-abstract-closure\"><a href=\"#sec-abstract-closure\">Abstract Closure</a></emu-xref> that evaluates the above parse by applying the semantics provided in <emu-xref href=\"#sec-pattern-semantics\"><a href=\"#sec-pattern-semantics\" class=\"excluded-xref\" excluded-id=\"sec-pattern-semantics\">#sec-pattern-semantics</a></emu-xref> using <var>patternCharacters</var> as the pattern's <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> of <emu-nt><a href=\"#prod-SourceCharacter\">SourceCharacter</a></emu-nt> values and <var>F</var> as the flag parameters.</li><li>Perform ?&#160;<emu-xref aoid=\"Set\"><a href=\"#sec-set-o-p-v-throw\">Set</a></emu-xref>(<var>obj</var>, <emu-val>\"lastIndex\"</emu-val>, 0, <emu-val>true</emu-val>).</li><li>Return <var>obj</var>.\n          </li></ol></emu-alg>\n        </emu-clause>\n\n        "}}, "figData": {}}, "to": {"secList": ["sec-isvalidregularexpressionliteral", "sec-abstract-operations-for-the-regexp-constructor", "sec-regexpinitialize"], "secData": {"sec-isvalidregularexpressionliteral": {"num": "12.2.8.2", "title": "#sec-isvalidregularexpressionliteral Static Semantics: IsValidRegularExpressionLiteral ( literal )", "html": "<emu-clause id=\"sec-isvalidregularexpressionliteral\" aoid=\"IsValidRegularExpressionLiteral\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-isvalidregularexpressionliteral\">#sec-isvalidregularexpressionliteral</span> Static Semantics: IsValidRegularExpressionLiteral ( <var>literal</var> )</h1>\n        <p>The abstract operation IsValidRegularExpressionLiteral takes argument <var>literal</var>. It determines if its argument is a valid regular expression literal. It performs the following steps when called:</p>\n        <emu-alg><ol><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>literal</var> is a <emu-nt><a href=\"#prod-RegularExpressionLiteral\">RegularExpressionLiteral</a></emu-nt>.</li><li>If FlagText of <var>literal</var> contains any code points other than <code>g</code>, <code>i</code>, <code>m</code>, <code>s</code>, <code>u</code>, or <code>y</code>, or if it contains the same code point more than once, return <emu-val>false</emu-val>.</li><li>Let <var>patternText</var> be BodyText of <var>literal</var>.</li><li>If FlagText of <var>literal</var> contains <code>u</code>, let <var>u</var> be <emu-val>true</emu-val>; else let <var>u</var> be <emu-val>false</emu-val>.</li><li>If <var>u</var> is <emu-val>false</emu-val>, then<ol><li>Let <var>stringValue</var> be <emu-xref aoid=\"UTF16Encode\"><a href=\"#sec-utf16encode\">UTF16Encode</a></emu-xref>(<var>patternText</var>).</li><li>Set <var>patternText</var> to the sequence of code points resulting from interpreting each of the 16-bit elements of <var>stringValue</var> as a Unicode BMP code point. UTF-16 decoding is not applied to the elements.</li></ol></li><li>Let <var>parseResult</var> be <emu-xref aoid=\"ParsePattern\"><a href=\"#sec-parsepattern\">ParsePattern</a></emu-xref>(<var>patternText</var>, <var>u</var>).</li><li>If <var>parseResult</var> is a <emu-xref href=\"#sec-syntactic-grammar\"><a href=\"#sec-syntactic-grammar\">Parse Node</a></emu-xref>, return <emu-val>true</emu-val>; else return <emu-val>false</emu-val>.\n        </li></ol></emu-alg>\n      </emu-clause>\n\n      "}, "sec-abstract-operations-for-the-regexp-constructor": {"num": "21.2.3.2", "title": "#sec-abstract-operations-for-the-regexp-constructor Abstract Operations for the RegExp Constructor", "html": "<emu-clause id=\"sec-abstract-operations-for-the-regexp-constructor\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-abstract-operations-for-the-regexp-constructor\">#sec-abstract-operations-for-the-regexp-constructor</span> Abstract Operations for the RegExp Constructor</h1>\n\n        <div id=\"excluded-sec-regexpalloc\"><h1><span class=\"secnum\">21.2.3.2.1</span>#sec-regexpalloc Runtime Semantics: RegExpAlloc ( newTarget )</h1>...</div><div id=\"excluded-sec-regexpinitialize\"><h1><span class=\"secnum\">21.2.3.2.2</span>#sec-regexpinitialize Runtime Semantics: RegExpInitialize ( obj, pattern, flags )</h1>...</div><div id=\"excluded-sec-parsepattern\"><h1><span class=\"secnum\">21.2.3.2.3</span>#sec-parsepattern Static Semantics: ParsePattern ( patternText, u )</h1>...</div><div id=\"excluded-sec-regexpcreate\"><h1><span class=\"secnum\">21.2.3.2.4</span>#sec-regexpcreate Runtime Semantics: RegExpCreate ( P, F )</h1>...</div><div id=\"excluded-sec-escaperegexppattern\"><h1><span class=\"secnum\">21.2.3.2.5</span>#sec-escaperegexppattern Runtime Semantics: EscapeRegExpPattern ( P, F )</h1>...</div></emu-clause>\n    "}, "sec-regexpinitialize": {"num": "21.2.3.2.2", "title": "#sec-regexpinitialize Runtime Semantics: RegExpInitialize ( obj, pattern, flags )", "html": "<emu-clause id=\"sec-regexpinitialize\" aoid=\"RegExpInitialize\">\n          <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-regexpinitialize\">#sec-regexpinitialize</span> Runtime Semantics: RegExpInitialize ( <var>obj</var>, <var>pattern</var>, <var>flags</var> )</h1>\n          <p>The abstract operation RegExpInitialize takes arguments <var>obj</var>, <var>pattern</var>, and <var>flags</var>. It performs the following steps when called:</p>\n          <emu-alg><ol><li>If <var>pattern</var> is <emu-val>undefined</emu-val>, let <var>P</var> be the empty String.</li><li>Else, let <var>P</var> be ?&#160;<emu-xref aoid=\"ToString\"><a href=\"#sec-tostring\">ToString</a></emu-xref>(<var>pattern</var>).</li><li>If <var>flags</var> is <emu-val>undefined</emu-val>, let <var>F</var> be the empty String.</li><li>Else, let <var>F</var> be ?&#160;<emu-xref aoid=\"ToString\"><a href=\"#sec-tostring\">ToString</a></emu-xref>(<var>flags</var>).</li><li>If <var>F</var> contains any code unit other than <emu-val>\"g\"</emu-val>, <emu-val>\"i\"</emu-val>, <emu-val>\"m\"</emu-val>, <emu-val>\"s\"</emu-val>, <emu-val>\"u\"</emu-val>, or <emu-val>\"y\"</emu-val> or if it contains the same code unit more than once, throw a <emu-val>SyntaxError</emu-val> exception.</li><li>If <var>F</var> contains <emu-val>\"u\"</emu-val>, let <var>u</var> be <emu-val>true</emu-val>; else let <var>u</var> be <emu-val>false</emu-val>.</li><li>If <var>u</var> is <emu-val>true</emu-val>, then<ol><li>Let <var>patternText</var> be !&#160;<emu-xref aoid=\"UTF16DecodeString\"><a href=\"#sec-utf16decodestring\">UTF16DecodeString</a></emu-xref>(<var>P</var>).</li><li>Let <var>patternCharacters</var> be a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> whose elements are the code points of <var>patternText</var>.</li></ol></li><li>Else,<ol><li>Let <var>patternText</var> be the result of interpreting each of <var>P</var>'s 16-bit elements as a Unicode BMP code point. UTF-16 decoding is not applied to the elements.</li><li>Let <var>patternCharacters</var> be a <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> whose elements are the code unit elements of <var>P</var>.</li></ol></li><li>Let <var>parseResult</var> be <emu-xref aoid=\"ParsePattern\"><a href=\"#sec-parsepattern\">ParsePattern</a></emu-xref>(<var>patternText</var>, <var>u</var>).</li><li>If <var>parseResult</var> is a non-empty <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> of <emu-val>SyntaxError</emu-val> objects, throw a <emu-val>SyntaxError</emu-val> exception.</li><li><emu-xref href=\"#assert\"><a href=\"#assert\">Assert</a></emu-xref>: <var>parseResult</var> is a <emu-xref href=\"#sec-syntactic-grammar\"><a href=\"#sec-syntactic-grammar\">Parse Node</a></emu-xref> for <emu-nt><a href=\"#prod-Pattern\">Pattern</a></emu-nt>.</li><li>Set <var>obj</var>.[[OriginalSource]] to <var>P</var>.</li><li>Set <var>obj</var>.[[OriginalFlags]] to <var>F</var>.</li><li>Set <var>obj</var>.[[RegExpMatcher]] to the <emu-xref href=\"#sec-abstract-closure\"><a href=\"#sec-abstract-closure\">Abstract Closure</a></emu-xref> that evaluates <var>parseResult</var> by applying the semantics provided in <emu-xref href=\"#sec-pattern-semantics\"><a href=\"#sec-pattern-semantics\" class=\"excluded-xref\" excluded-id=\"sec-pattern-semantics\">#sec-pattern-semantics</a></emu-xref> using <var>patternCharacters</var> as the pattern's <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref> of <emu-nt><a href=\"#prod-SourceCharacter\">SourceCharacter</a></emu-nt> values and <var>F</var> as the flag parameters.</li><li>Perform ?&#160;<emu-xref aoid=\"Set\"><a href=\"#sec-set-o-p-v-throw\">Set</a></emu-xref>(<var>obj</var>, <emu-val>\"lastIndex\"</emu-val>, 0, <emu-val>true</emu-val>).</li><li>Return <var>obj</var>.\n          </li></ol></emu-alg>\n        </emu-clause>\n\n        "}}, "figData": {}}}