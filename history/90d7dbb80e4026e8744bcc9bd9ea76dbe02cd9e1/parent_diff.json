{"from": {"secList": ["sec-with-statement-runtime-semantics-evaluation", "sec-newobjectenvironment", "sec-environment-record-operations", "sec-newglobalenvironment"], "secData": {"sec-with-statement-runtime-semantics-evaluation": {"num": "14.11.2", "title": "#sec-with-statement-runtime-semantics-evaluation Runtime Semantics: Evaluation", "html": "<emu-clause id=\"sec-with-statement-runtime-semantics-evaluation\">\n      <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-with-statement-runtime-semantics-evaluation\">#sec-with-statement-runtime-semantics-evaluation</span> Runtime Semantics: Evaluation</h1>\n      <emu-grammar><emu-production name=\"WithStatement\" collapsed=\"\">\n    <emu-nt><a href=\"#prod-WithStatement\">WithStatement</a></emu-nt> <emu-geq>:</emu-geq> <emu-rhs a=\"i70kview\">\n        <emu-t>with</emu-t>\n        <emu-t>(</emu-t>\n        <emu-nt><a href=\"#prod-Expression\">Expression</a></emu-nt>\n        <emu-t>)</emu-t>\n        <emu-nt><a href=\"#prod-Statement\">Statement</a></emu-nt>\n    </emu-rhs>\n</emu-production>\n</emu-grammar>\n      <emu-alg><ol><li>Let <var>val</var> be the result of evaluating <emu-nt><a href=\"#prod-Expression\">Expression</a></emu-nt>.</li><li>Let <var>obj</var> be ?&#160;<emu-xref aoid=\"ToObject\"><a href=\"#sec-toobject\">ToObject</a></emu-xref>(? <emu-xref aoid=\"GetValue\"><a href=\"#sec-getvalue\">GetValue</a></emu-xref>(<var>val</var>)).</li><li>Let <var>oldEnv</var> be the <emu-xref href=\"#running-execution-context\"><a href=\"#running-execution-context\">running execution context</a></emu-xref>'s LexicalEnvironment.</li><li>Let <var>newEnv</var> be <emu-xref aoid=\"NewObjectEnvironment\"><a href=\"#sec-newobjectenvironment\">NewObjectEnvironment</a></emu-xref>(<var>obj</var>, <var>oldEnv</var>).</li><li>Set the <var>withEnvironment</var> flag of <var>newEnv</var> to <emu-val>true</emu-val>.</li><li>Set the <emu-xref href=\"#running-execution-context\"><a href=\"#running-execution-context\">running execution context</a></emu-xref>'s LexicalEnvironment to <var>newEnv</var>.</li><li>Let <var>C</var> be the result of evaluating <emu-nt><a href=\"#prod-Statement\">Statement</a></emu-nt>.</li><li>Set the <emu-xref href=\"#running-execution-context\"><a href=\"#running-execution-context\">running execution context</a></emu-xref>'s LexicalEnvironment to <var>oldEnv</var>.</li><li>Return <emu-xref aoid=\"Completion\"><a href=\"#sec-completion-record-specification-type\">Completion</a></emu-xref>(<emu-xref aoid=\"UpdateEmpty\"><a href=\"#sec-updateempty\">UpdateEmpty</a></emu-xref>(<var>C</var>, <emu-val>undefined</emu-val>)).</li></ol></emu-alg>\n      <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n        <p>No matter how control leaves the embedded <emu-nt><a href=\"#prod-Statement\">Statement</a></emu-nt>, whether normally or by some form of <emu-xref href=\"#sec-completion-record-specification-type\"><a href=\"#sec-completion-record-specification-type\">abrupt completion</a></emu-xref> or exception, the LexicalEnvironment is always restored to its former state.</p>\n      </div></emu-note>\n    </emu-clause>\n  "}, "sec-newobjectenvironment": {"num": "9.1.2.3", "title": "#sec-newobjectenvironment NewObjectEnvironment ( O, E )", "html": "<emu-clause id=\"sec-newobjectenvironment\" aoid=\"NewObjectEnvironment\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-newobjectenvironment\">#sec-newobjectenvironment</span> NewObjectEnvironment ( <var>O</var>, <var>E</var> )</h1>\n        <p>The abstract operation NewObjectEnvironment takes arguments <var>O</var> (an Object) and <var>E</var> (an <emu-xref href=\"#sec-environment-records\"><a href=\"#sec-environment-records\">Environment Record</a></emu-xref> or <emu-val>null</emu-val>). It performs the following steps when called:</p>\n        <emu-alg><ol><li>Let <var>env</var> be a new <emu-xref href=\"#sec-object-environment-records\"><a href=\"#sec-object-environment-records\">object Environment Record</a></emu-xref> containing <var>O</var> as the binding object.</li><li>Set <var>env</var>.[[OuterEnv]] to <var>E</var>.</li><li>Return <var>env</var>.</li></ol></emu-alg>\n      </emu-clause>\n\n      "}, "sec-environment-record-operations": {"num": "9.1.2", "title": "#sec-environment-record-operations Environment Record Operations", "html": "<emu-clause id=\"sec-environment-record-operations\" oldids=\"sec-lexical-environment-operations\"><span id=\"sec-lexical-environment-operations\"></span>\n      <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-environment-record-operations\">#sec-environment-record-operations</span> Environment Record Operations</h1>\n      <p>The following <emu-xref href=\"#sec-algorithm-conventions-abstract-operations\"><a href=\"#sec-algorithm-conventions-abstract-operations\">abstract operations</a></emu-xref> are used in this specification to operate upon Environment Records:</p>\n\n      <div id=\"excluded-sec-getidentifierreference\"><h1><span class=\"secnum\">9.1.2.1</span>#sec-getidentifierreference GetIdentifierReference ( env, name, strict )</h1>...</div><div id=\"excluded-sec-newdeclarativeenvironment\"><h1><span class=\"secnum\">9.1.2.2</span>#sec-newdeclarativeenvironment NewDeclarativeEnvironment ( E )</h1>...</div><div id=\"excluded-sec-newobjectenvironment\"><h1><span class=\"secnum\">9.1.2.3</span>#sec-newobjectenvironment NewObjectEnvironment ( O, E )</h1>...</div><div id=\"excluded-sec-newfunctionenvironment\"><h1><span class=\"secnum\">9.1.2.4</span>#sec-newfunctionenvironment NewFunctionEnvironment ( F, newTarget )</h1>...</div><div id=\"excluded-sec-newglobalenvironment\"><h1><span class=\"secnum\">9.1.2.5</span>#sec-newglobalenvironment NewGlobalEnvironment ( G, thisValue )</h1>...</div><div id=\"excluded-sec-newmoduleenvironment\"><h1><span class=\"secnum\">9.1.2.6</span>#sec-newmoduleenvironment NewModuleEnvironment ( E )</h1>...</div></emu-clause>\n  "}, "sec-newglobalenvironment": {"num": "9.1.2.5", "title": "#sec-newglobalenvironment NewGlobalEnvironment ( G, thisValue )", "html": "<emu-clause id=\"sec-newglobalenvironment\" aoid=\"NewGlobalEnvironment\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-newglobalenvironment\">#sec-newglobalenvironment</span> NewGlobalEnvironment ( <var>G</var>, <var>thisValue</var> )</h1>\n        <p>The abstract operation NewGlobalEnvironment takes arguments <var>G</var> and <var>thisValue</var>. It performs the following steps when called:</p>\n        <emu-alg><ol><li>Let <var>objRec</var> be <emu-xref aoid=\"NewObjectEnvironment\"><a href=\"#sec-newobjectenvironment\">NewObjectEnvironment</a></emu-xref>(<var>G</var>, <emu-val>null</emu-val>).</li><li>Set the <var>withEnvironment</var> flag of <var>newEnv</var> to <emu-val>false</emu-val>.</li><li>Let <var>dclRec</var> be a new <emu-xref href=\"#sec-declarative-environment-records\"><a href=\"#sec-declarative-environment-records\">declarative Environment Record</a></emu-xref> containing no bindings.</li><li>Let <var>env</var> be a new <emu-xref href=\"#sec-global-environment-records\"><a href=\"#sec-global-environment-records\">global Environment Record</a></emu-xref>.</li><li>Set <var>env</var>.[[ObjectRecord]] to <var>objRec</var>.</li><li>Set <var>env</var>.[[GlobalThisValue]] to <var>thisValue</var>.</li><li>Set <var>env</var>.[[DeclarativeRecord]] to <var>dclRec</var>.</li><li>Set <var>env</var>.[[VarNames]] to a new empty <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li>Set <var>env</var>.[[OuterEnv]] to <emu-val>null</emu-val>.</li><li>Return <var>env</var>.</li></ol></emu-alg>\n      </emu-clause>\n\n      "}}, "figData": {}}, "to": {"secList": ["sec-with-statement-runtime-semantics-evaluation", "sec-newobjectenvironment", "sec-environment-record-operations", "sec-newglobalenvironment"], "secData": {"sec-with-statement-runtime-semantics-evaluation": {"num": "14.11.2", "title": "#sec-with-statement-runtime-semantics-evaluation Runtime Semantics: Evaluation", "html": "<emu-clause id=\"sec-with-statement-runtime-semantics-evaluation\">\n      <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-with-statement-runtime-semantics-evaluation\">#sec-with-statement-runtime-semantics-evaluation</span> Runtime Semantics: Evaluation</h1>\n      <emu-grammar><emu-production name=\"WithStatement\" collapsed=\"\">\n    <emu-nt><a href=\"#prod-WithStatement\">WithStatement</a></emu-nt> <emu-geq>:</emu-geq> <emu-rhs a=\"i70kview\">\n        <emu-t>with</emu-t>\n        <emu-t>(</emu-t>\n        <emu-nt><a href=\"#prod-Expression\">Expression</a></emu-nt>\n        <emu-t>)</emu-t>\n        <emu-nt><a href=\"#prod-Statement\">Statement</a></emu-nt>\n    </emu-rhs>\n</emu-production>\n</emu-grammar>\n      <emu-alg><ol><li>Let <var>val</var> be the result of evaluating <emu-nt><a href=\"#prod-Expression\">Expression</a></emu-nt>.</li><li>Let <var>obj</var> be ?&#160;<emu-xref aoid=\"ToObject\"><a href=\"#sec-toobject\">ToObject</a></emu-xref>(? <emu-xref aoid=\"GetValue\"><a href=\"#sec-getvalue\">GetValue</a></emu-xref>(<var>val</var>)).</li><li>Let <var>oldEnv</var> be the <emu-xref href=\"#running-execution-context\"><a href=\"#running-execution-context\">running execution context</a></emu-xref>'s LexicalEnvironment.</li><li>Let <var>newEnv</var> be <emu-xref aoid=\"NewObjectEnvironment\"><a href=\"#sec-newobjectenvironment\">NewObjectEnvironment</a></emu-xref>(<var>obj</var>, <emu-val>true</emu-val>, <var>oldEnv</var>).</li><li>Set the <emu-xref href=\"#running-execution-context\"><a href=\"#running-execution-context\">running execution context</a></emu-xref>'s LexicalEnvironment to <var>newEnv</var>.</li><li>Let <var>C</var> be the result of evaluating <emu-nt><a href=\"#prod-Statement\">Statement</a></emu-nt>.</li><li>Set the <emu-xref href=\"#running-execution-context\"><a href=\"#running-execution-context\">running execution context</a></emu-xref>'s LexicalEnvironment to <var>oldEnv</var>.</li><li>Return <emu-xref aoid=\"Completion\"><a href=\"#sec-completion-record-specification-type\">Completion</a></emu-xref>(<emu-xref aoid=\"UpdateEmpty\"><a href=\"#sec-updateempty\">UpdateEmpty</a></emu-xref>(<var>C</var>, <emu-val>undefined</emu-val>)).</li></ol></emu-alg>\n      <emu-note><span class=\"note\">Note</span><div class=\"note-contents\">\n        <p>No matter how control leaves the embedded <emu-nt><a href=\"#prod-Statement\">Statement</a></emu-nt>, whether normally or by some form of <emu-xref href=\"#sec-completion-record-specification-type\"><a href=\"#sec-completion-record-specification-type\">abrupt completion</a></emu-xref> or exception, the LexicalEnvironment is always restored to its former state.</p>\n      </div></emu-note>\n    </emu-clause>\n  "}, "sec-newobjectenvironment": {"num": "9.1.2.3", "title": "#sec-newobjectenvironment NewObjectEnvironment ( O, W, E )", "html": "<emu-clause id=\"sec-newobjectenvironment\" aoid=\"NewObjectEnvironment\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-newobjectenvironment\">#sec-newobjectenvironment</span> NewObjectEnvironment ( <var>O</var>, <var>W</var>, <var>E</var> )</h1>\n        <p>The abstract operation NewObjectEnvironment takes arguments <var>O</var> (an Object), <var>W</var> (a Boolean), and <var>E</var> (an <emu-xref href=\"#sec-environment-records\"><a href=\"#sec-environment-records\">Environment Record</a></emu-xref> or <emu-val>null</emu-val>). It performs the following steps when called:</p>\n        <emu-alg><ol><li>Let <var>env</var> be a new <emu-xref href=\"#sec-object-environment-records\"><a href=\"#sec-object-environment-records\">object Environment Record</a></emu-xref> containing <var>O</var> as the binding object.</li><li>Set the <var>withEnvironment</var> flag of <var>env</var> to <var>W</var>.</li><li>Set <var>env</var>.[[OuterEnv]] to <var>E</var>.</li><li>Return <var>env</var>.</li></ol></emu-alg>\n      </emu-clause>\n\n      "}, "sec-environment-record-operations": {"num": "9.1.2", "title": "#sec-environment-record-operations Environment Record Operations", "html": "<emu-clause id=\"sec-environment-record-operations\" oldids=\"sec-lexical-environment-operations\"><span id=\"sec-lexical-environment-operations\"></span>\n      <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-environment-record-operations\">#sec-environment-record-operations</span> Environment Record Operations</h1>\n      <p>The following <emu-xref href=\"#sec-algorithm-conventions-abstract-operations\"><a href=\"#sec-algorithm-conventions-abstract-operations\">abstract operations</a></emu-xref> are used in this specification to operate upon Environment Records:</p>\n\n      <div id=\"excluded-sec-getidentifierreference\"><h1><span class=\"secnum\">9.1.2.1</span>#sec-getidentifierreference GetIdentifierReference ( env, name, strict )</h1>...</div><div id=\"excluded-sec-newdeclarativeenvironment\"><h1><span class=\"secnum\">9.1.2.2</span>#sec-newdeclarativeenvironment NewDeclarativeEnvironment ( E )</h1>...</div><div id=\"excluded-sec-newobjectenvironment\"><h1><span class=\"secnum\">9.1.2.3</span>#sec-newobjectenvironment NewObjectEnvironment ( O, W, E )</h1>...</div><div id=\"excluded-sec-newfunctionenvironment\"><h1><span class=\"secnum\">9.1.2.4</span>#sec-newfunctionenvironment NewFunctionEnvironment ( F, newTarget )</h1>...</div><div id=\"excluded-sec-newglobalenvironment\"><h1><span class=\"secnum\">9.1.2.5</span>#sec-newglobalenvironment NewGlobalEnvironment ( G, thisValue )</h1>...</div><div id=\"excluded-sec-newmoduleenvironment\"><h1><span class=\"secnum\">9.1.2.6</span>#sec-newmoduleenvironment NewModuleEnvironment ( E )</h1>...</div></emu-clause>\n  "}, "sec-newglobalenvironment": {"num": "9.1.2.5", "title": "#sec-newglobalenvironment NewGlobalEnvironment ( G, thisValue )", "html": "<emu-clause id=\"sec-newglobalenvironment\" aoid=\"NewGlobalEnvironment\">\n        <h1><span class=\"secnum excluded-secnum\" excluded-id=\"sec-newglobalenvironment\">#sec-newglobalenvironment</span> NewGlobalEnvironment ( <var>G</var>, <var>thisValue</var> )</h1>\n        <p>The abstract operation NewGlobalEnvironment takes arguments <var>G</var> and <var>thisValue</var>. It performs the following steps when called:</p>\n        <emu-alg><ol><li>Let <var>objRec</var> be <emu-xref aoid=\"NewObjectEnvironment\"><a href=\"#sec-newobjectenvironment\">NewObjectEnvironment</a></emu-xref>(<var>G</var>, <emu-val>false</emu-val>, <emu-val>null</emu-val>).</li><li>Let <var>dclRec</var> be a new <emu-xref href=\"#sec-declarative-environment-records\"><a href=\"#sec-declarative-environment-records\">declarative Environment Record</a></emu-xref> containing no bindings.</li><li>Let <var>env</var> be a new <emu-xref href=\"#sec-global-environment-records\"><a href=\"#sec-global-environment-records\">global Environment Record</a></emu-xref>.</li><li>Set <var>env</var>.[[ObjectRecord]] to <var>objRec</var>.</li><li>Set <var>env</var>.[[GlobalThisValue]] to <var>thisValue</var>.</li><li>Set <var>env</var>.[[DeclarativeRecord]] to <var>dclRec</var>.</li><li>Set <var>env</var>.[[VarNames]] to a new empty <emu-xref href=\"#sec-list-and-record-specification-type\"><a href=\"#sec-list-and-record-specification-type\">List</a></emu-xref>.</li><li>Set <var>env</var>.[[OuterEnv]] to <emu-val>null</emu-val>.</li><li>Return <var>env</var>.</li></ol></emu-alg>\n      </emu-clause>\n\n      "}}, "figData": {}}}